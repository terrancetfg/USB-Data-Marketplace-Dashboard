<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enterprise Data Marketplace - My Listings</title>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
            background: #F5F7FA;
            color: #1A1A1A;
        }

        /* Header */
        .header {
            background: white;
            border-bottom: 1px solid #E5E7EB;
            padding: 16px 40px 0 40px;
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1001;
            height: 65px;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 16px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logo svg {
            height: 32px;
            width: auto;
        }

        .tagline {
            color: #6B7280;
            font-size: 14px;
            font-style: italic;
        }

        .nav {
            display: flex;
            gap: 32px;
            align-items: flex-end;
        }

        .nav-item {
            color: #4B5563;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
            padding: 8px 0 16px 0;
            position: relative;
            display: inline-block;
        }

        .nav-item.active {
            color: #1A1A1A;
        }

        .nav-item.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: #2563EB;
        }

        .cart-icon-btn {
            position: relative;
            background: none;
            border: none;
            cursor: pointer;
            margin-bottom: 16px;
            padding: 0;
            margin-right: 16px;
        }

        .cart-icon-btn i {
            font-size: 24px;
            color: #374151;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: #DC2626;
            color: white;
            font-size: 11px;
            font-weight: 700;
            padding: 2px 6px;
            border-radius: 10px;
            min-width: 18px;
            text-align: center;
        }

        .cart-count:empty {
            display: none;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin-bottom: 16px;
        }

        /* Hero Section */
        .hero {
            background: #EFF6FF;
            padding: 32px 40px;
            border-bottom: 1px solid #E5E7EB;
            margin-top: 65px;
        }

        .hero-content {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 32px;
        }

        .hero-text h1 {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .hero-text p {
            color: #6B7280;
            font-size: 14px;
            line-height: 1.6;
            max-width: 700px;
        }

        .create-btn {
            background: #001E79;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .create-btn:hover {
            background: #001557;
        }

        .create-btn-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            line-height: 1;
        }

        /* Stats Cards */
        .stats {
            display: flex;
            gap: 16px;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }

        .stats::-webkit-scrollbar {
            display: none; /* Chrome, Safari, Opera */
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #E5E7EB;
            flex: 1;
            min-width: 160px;
            flex-shrink: 0;
        }

        .stat-label {
            color: #6B7280;
            font-size: 12px;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: #1A1A1A;
            margin-bottom: 4px;
        }

        .stat-change {
            color: #10B981;
            font-size: 12px;
        }

        /* Main Content */
        .main-content {
            background: white;
            padding: 32px 40px;
            min-height: 100vh;
        }

        /* Filters */
        .filters {
            display: flex;
            gap: 16px;
            margin-bottom: 24px;
            align-items: center;
        }

        /* Active Filters */
        .active-filters-container {
            margin-top: 16px;
            margin-bottom: 28px;
        }

        .active-filters-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .active-filters-label {
            font-size: 14px;
            font-weight: 600;
            color: #1A1A1A;
        }

        .active-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .filter-tag {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            background: #EFF6FF;
            border: 1px solid #BFDBFE;
            border-radius: 6px;
            font-size: 13px;
            color: #1E40AF;
            font-weight: 500;
        }

        .filter-tag-remove {
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2px;
            border-radius: 3px;
            transition: background 0.2s;
        }

        .filter-tag-remove:hover {
            background: rgba(30, 64, 175, 0.1);
        }

        .filter-tag-remove i {
            font-size: 14px;
        }

        .clear-all-inline-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 12px;
            background: white;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
            font-size: 13px;
            color: #6B7280;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }

        .clear-all-inline-btn:hover {
            background: #FEF2F2;
            border-color: #FCA5A5;
            color: #DC2626;
        }

        .clear-all-inline-btn i {
            font-size: 14px;
        }

        /* Filter Container */
        .filter-container {
            position: relative;
        }

        .filter-btn {
            padding: 12px 16px;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
            background: white;
            font-size: 14px;
            color: #374151;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
            white-space: nowrap;
        }

        .filter-btn:hover {
            background: #F9FAFB;
            border-color: #001E79;
        }

        .filter-btn.active {
            border-color: #001E79;
            background: #EFF6FF;
            color: #001E79;
        }

        .filter-btn i {
            font-size: 16px;
            transition: transform 0.2s;
        }

        .filter-btn.active i {
            transform: rotate(180deg);
        }

        .filter-panel {
            position: absolute;
            top: calc(100% + 4px);
            left: 0;
            background: white;
            border: 1px solid #E5E7EB;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            min-width: 250px;
            max-height: 400px;
            overflow: hidden;
            display: none;
            z-index: 1000;
            flex-direction: column;
        }

        .filter-panel.active {
            display: flex;
        }

        .filter-search {
            padding: 12px;
            border-bottom: 1px solid #E5E7EB;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .filter-search i {
            color: #9CA3AF;
            font-size: 16px;
        }

        .filter-search input {
            flex: 1;
            border: none;
            outline: none;
            font-size: 14px;
            color: #374151;
        }

        .filter-search input::placeholder {
            color: #9CA3AF;
        }

        .filter-options {
            padding: 8px;
            overflow-y: auto;
            max-height: 320px;
        }

        .filter-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 12px;
            cursor: pointer;
            border-radius: 6px;
            transition: background 0.2s;
            user-select: none;
        }

        .filter-option:hover {
            background: #F9FAFB;
        }

        .filter-option input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
            accent-color: #001E79;
        }

        .filter-option span {
            font-size: 14px;
            color: #374151;
            flex: 1;
        }

        .filter-option-item {
            padding: 10px 12px;
            cursor: pointer;
            border-radius: 6px;
            transition: background 0.2s;
            font-size: 14px;
            color: #374151;
        }

        .filter-option-item:hover {
            background: #F9FAFB;
        }

        .filter-option-item.selected {
            background: #EFF6FF;
            color: #001E79;
            font-weight: 500;
        }

        .search-container {
            margin-left: auto;
            position: relative;
            width: 300px;
        }

        .search-input {
            width: 100%;
            padding: 12px 16px 12px 40px;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
            font-size: 14px;
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #9CA3AF;
        }

        .sort-container {
            position: relative;
            margin-left: 8px;
        }

        .sort-btn {
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
            background: white;
            cursor: pointer;
            transition: background 0.2s;
        }

        .sort-btn:hover {
            background: #F9FAFB;
        }

        .sort-btn i {
            font-size: 20px;
            color: #374151;
        }

        .sort-dropdown {
            position: absolute;
            top: calc(100% + 4px);
            right: 0;
            background: white;
            border: 1px solid #E5E7EB;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            min-width: 200px;
            z-index: 100;
            display: none;
        }

        .sort-dropdown.active {
            display: block;
        }

        .sort-option {
            padding: 12px 16px;
            font-size: 14px;
            color: #374151;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.2s;
        }

        .sort-option:hover {
            background: #F9FAFB;
        }

        .sort-option:first-child {
            border-radius: 8px 8px 0 0;
        }

        .sort-option:last-child {
            border-radius: 0 0 8px 8px;
        }

        .sort-option i {
            font-size: 16px;
            color: #6B7280;
        }

        .sort-option.selected {
            background: #EFF6FF;
            color: #001E79;
            font-weight: 500;
        }

        .sort-option.selected i {
            color: #001E79;
        }

        /* Listings Header */
        .listings-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 24px;
        }

        .listings-header h2 {
            font-size: 18px;
            font-weight: 600;
        }

        .listings-count {
            background: #F3F4F6;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 14px;
            color: #6B7280;
        }

        /* Product Grid */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 20px;
        }

        .product-card {
            background: white;
            border: 1px solid #E5E7EB;
            border-radius: 8px;
            padding: 20px;
            cursor: pointer;
            transition: box-shadow 0.2s, transform 0.2s;
        }

        .product-card:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            transform: translateY(-2px);
        }

        .product-header {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 12px;
        }

        .product-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: #FEF3C7;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            color: #92400E;
        }

        .product-icon.blue {
            background: #DBEAFE;
            color: #1E40AF;
        }

        .product-icon.green {
            background: #D1FAE5;
            color: #065F46;
        }

        .product-icon.purple {
            background: #EDE9FE;
            color: #6B21A8;
        }

        .product-icon.orange {
            background: #FFEDD5;
            color: #C2410C;
        }

        .product-icon i {
            font-size: 24px;
        }

        .product-info {
            flex: 1;
        }

        .product-title {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 4px;
        }

        .product-meta {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
        }

        .product-owner {
            font-size: 12px;
            color: #6B7280;
        }

        .status-badge {
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }

        .status-badge.published {
            background: #D1FAE5;
            color: #065F46;
        }

        .product-rating {
            display: flex;
            align-items: center;
            gap: 4px;
            margin-left: auto;
        }

        .star {
            color: #FBBF24;
        }

        .rating-value {
            font-size: 14px;
            font-weight: 600;
        }

        .product-dept {
            font-size: 12px;
            color: #6B7280;
            margin-bottom: 12px;
        }

        .product-description {
            font-size: 13px;
            color: #4B5563;
            line-height: 1.5;
            margin-bottom: 16px;
        }

        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 12px;
            border-top: 1px solid #F3F4F6;
        }

        .active-users {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
            color: #6B7280;
        }

        .alert {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: #6B7280;
        }

        .alert-icon {
            color: #EF4444;
        }

        /* Detail View Styles */
        .detail-view {
            display: none;
            background: white;
            margin-top: 65px;
        }

        .detail-view.active {
            display: block;
        }

        .breadcrumb {
            padding: 20px 40px;
            background: white;
            border-bottom: 1px solid #E5E7EB;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }

        .breadcrumb a {
            color: #2563EB;
            text-decoration: none;
            cursor: pointer;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .breadcrumb-separator {
            color: #9CA3AF;
        }

        .breadcrumb-current {
            color: #6B7280;
        }

        .detail-header {
            padding: 32px 40px;
            background: white;
            border-bottom: 1px solid #E5E7EB;
        }

        .detail-title-section {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 24px;
            margin-bottom: 24px;
        }

        .detail-left {
            display: flex;
            align-items: center;
            gap: 16px;
            flex: 1;
        }

        .detail-icon {
            width: 64px;
            height: 64px;
            border-radius: 12px;
            background: #FEF3C7;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #92400E;
            flex-shrink: 0;
        }

        .detail-icon i {
            font-size: 36px;
        }

        .detail-title-info {
            flex: 1;
        }

        .detail-title-info h1 {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .detail-meta {
            display: flex;
            align-items: center;
            gap: 16px;
            flex-wrap: wrap;
        }

        .detail-rating {
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .detail-rating .star {
            color: #FBBF24;
            font-size: 18px;
        }

        .detail-rating-value {
            font-size: 16px;
            font-weight: 600;
        }

        .detail-rating-count {
            color: #6B7280;
            font-size: 14px;
        }

        .detail-badge {
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }

        .detail-badge.published {
            background: #D1FAE5;
            color: #065F46;
        }

        .detail-description {
            font-size: 14px;
            color: #4B5563;
            line-height: 1.6;
            margin-bottom: 24px;
        }

        .detail-kpis {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        .detail-center {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            flex-shrink: 0;
        }

        .detail-right {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            flex: 1;
        }

        .access-info {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .access-label {
            font-size: 12px;
            color: #6B7280;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .access-avatars {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .detail-actions {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .action-btn {
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
            border: 1px solid #D1D5DB;
            background: white;
            color: #374151;
        }

        .action-btn:hover {
            background: #F9FAFB;
        }

        .action-btn i {
            font-size: 16px;
        }

        .action-btn.primary {
            background: #001E79;
            color: white;
            border-color: #001E79;
        }

        .action-btn.primary:hover {
            background: #001557;
        }

        .detail-kpi-card {
            background: #F9FAFB;
            padding: 16px;
            border-radius: 8px;
            border: 1px solid #E5E7EB;
        }

        .detail-kpi-label {
            font-size: 12px;
            color: #6B7280;
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .detail-kpi-value {
            font-size: 24px;
            font-weight: 700;
            color: #1A1A1A;
        }

        .detail-content {
            padding: 32px 40px;
        }

        .detail-section {
            margin-bottom: 40px;
        }

        .detail-section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .detail-section-title i {
            color: #6B7280;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            margin-bottom: 24px;
        }

        .info-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .info-label {
            font-size: 12px;
            color: #6B7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .info-value {
            font-size: 14px;
            color: #1A1A1A;
            font-weight: 500;
        }

        .users-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .user-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: #F9FAFB;
            border-radius: 8px;
            border: 1px solid #E5E7EB;
        }

        .user-avatar-large {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 14px;
        }

        .user-info {
            flex: 1;
        }

        .user-name {
            font-size: 14px;
            font-weight: 600;
            color: #1A1A1A;
        }

        .user-role {
            font-size: 12px;
            color: #6B7280;
        }

        .user-status {
            font-size: 12px;
            padding: 4px 8px;
            border-radius: 6px;
            background: #D1FAE5;
            color: #065F46;
        }

        .avatar-stack {
            display: flex;
            align-items: center;
        }

        .avatar-stack-item {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            border: 2px solid white;
            margin-left: -8px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 11px;
            font-weight: 600;
        }

        .avatar-stack-item:first-child {
            margin-left: 0;
        }

        .avatar-more {
            background: #9CA3AF;
        }

        .governance-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }

        .governance-card {
            background: #F9FAFB;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #E5E7EB;
        }

        .governance-card h4 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .governance-card ul {
            list-style: none;
            padding: 0;
        }

        .governance-card li {
            font-size: 13px;
            color: #4B5563;
            padding: 6px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .governance-card li i {
            color: #10B981;
            font-size: 16px;
        }

        .dataset-sample {
            background: #F9FAFB;
            border: 1px solid #E5E7EB;
            border-radius: 8px;
            overflow: hidden;
        }

        .dataset-table {
            width: 100%;
            border-collapse: collapse;
        }

        .dataset-table th {
            background: #1F2937;
            color: white;
            text-align: left;
            padding: 12px 16px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .dataset-table td {
            padding: 12px 16px;
            border-bottom: 1px solid #E5E7EB;
            font-size: 13px;
            color: #4B5563;
            font-family: 'Monaco', 'Courier New', monospace;
        }

        .dataset-table tr:hover {
            background: white;
        }

        /* Data Structure JSON */
        .data-structure-json {
            background: #F9FAFB;
            border: 1px solid #E5E7EB;
            border-radius: 8px;
            padding: 24px;
        }

        .data-structure-json pre {
            margin: 0;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.8;
            color: #1A1A1A;
        }

        .data-structure-json code {
            font-family: 'Monaco', 'Courier New', monospace;
        }

        .json-key {
            color: #0369A1;
            font-weight: 600;
        }

        .json-string {
            color: #15803D;
        }

        .json-number {
            color: #C2410C;
        }

        .json-boolean {
            color: #7C3AED;
        }

        .value-prop {
            background: #EFF6FF;
            padding: 24px;
            border-radius: 8px;
            border: 1px solid #BFDBFE;
        }

        .value-prop p {
            font-size: 14px;
            color: #1E40AF;
            line-height: 1.6;
        }

        .comments-section {
            background: #F9FAFB;
            padding: 24px;
            border-radius: 8px;
            border: 1px solid #E5E7EB;
        }

        .comment {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid #E5E7EB;
        }

        .comment:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .comment-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            flex-shrink: 0;
        }

        .comment-content {
            flex: 1;
        }

        .comment-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
        }

        .comment-author {
            font-size: 14px;
            font-weight: 600;
            color: #1A1A1A;
        }

        .comment-date {
            font-size: 12px;
            color: #9CA3AF;
        }

        .comment-text {
            font-size: 13px;
            color: #4B5563;
            line-height: 1.5;
        }

        .back-btn {
            background: white;
            border: 1px solid #D1D5DB;
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: #374151;
        }

        .back-btn:hover {
            background: #F9FAFB;
        }

        .hide {
            display: none;
        }

        /* Drafts View */
        .drafts-view {
            display: none;
            background: white;
            margin-top: 65px;
            min-height: calc(100vh - 65px);
        }

        .drafts-view.active {
            display: block;
        }

        .drafts-header {
            padding: 40px 40px 32px 40px;
            background: white;
            border-bottom: 1px solid #E5E7EB;
        }

        .drafts-header h1 {
            font-size: 32px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .drafts-header p {
            font-size: 16px;
            color: #6B7280;
        }

        .drafts-content {
            padding: 40px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 24px;
        }

        .draft-card {
            background: white;
            border: 1px solid #E5E7EB;
            border-radius: 12px;
            padding: 24px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .draft-card:hover {
            border-color: #001E79;
            box-shadow: 0 4px 12px rgba(0, 30, 121, 0.1);
            transform: translateY(-2px);
        }

        .draft-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .draft-card-title {
            font-size: 18px;
            font-weight: 600;
            color: #1A1A1A;
            margin-bottom: 4px;
        }

        .draft-card-step {
            font-size: 13px;
            color: #6B7280;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .draft-card-meta {
            font-size: 13px;
            color: #9CA3AF;
            margin-bottom: 16px;
        }

        .draft-card-actions {
            display: flex;
            gap: 8px;
            margin-top: 20px;
        }

        .draft-card-actions button {
            flex: 1;
            padding: 10px 16px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            border: 1px solid #E5E7EB;
            background: white;
            color: #1A1A1A;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            transition: all 0.2s;
        }

        .draft-card-actions button:hover {
            background: #F9FAFB;
        }

        .draft-card-actions button.primary {
            background: #001E79;
            color: white;
            border-color: #001E79;
        }

        .draft-card-actions button.primary:hover {
            background: #001560;
        }

        .draft-card-actions button.danger {
            color: #DC2626;
            border-color: #FEE2E2;
        }

        .draft-card-actions button.danger:hover {
            background: #FEF2F2;
        }

        .empty-drafts {
            text-align: center;
            padding: 80px 40px;
            color: #6B7280;
        }

        .empty-drafts i {
            font-size: 64px;
            color: #D1D5DB;
            margin-bottom: 16px;
        }

        .empty-drafts h3 {
            font-size: 20px;
            font-weight: 600;
            color: #1A1A1A;
            margin-bottom: 8px;
        }

        .empty-drafts p {
            font-size: 14px;
        }

        /* Create Form Styles */
        .create-form-view {
            display: none;
            background: #F9F9F9;
            min-height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            overflow-y: auto;
            z-index: 1000;
            padding-top: 65px;
        }

        .create-form-view.active {
            display: block;
        }

        .form-header {
            padding: 32px 40px;
            background: white;
            border-bottom: 1px solid #E5E7EB;
        }

        .form-header h1 {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .form-header p {
            font-size: 14px;
            color: #6B7280;
        }

        /* Progress Indicator */
        .progress-indicator {
            padding: 32px 40px;
            background: white;
            border-bottom: 1px solid #E5E7EB;
        }

        .progress-bar {
            display: flex;
            align-items: flex-start;
            gap: 0;
            position: relative;
        }

        .progress-step {
            display: flex;
            align-items: flex-start;
            gap: 16px;
            flex: 1;
            position: relative;
        }

        .progress-step-content {
            display: flex;
            flex-direction: column;
            gap: 4px;
            flex: 1;
        }

        .progress-step-number {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #F3F4F6;
            border: 2px solid #E5E7EB;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
            color: #9CA3AF;
            flex-shrink: 0;
            transition: all 0.3s ease;
        }

        .progress-step.completed .progress-step-number {
            background: #001E79;
            border-color: #001E79;
            color: white;
        }

        .progress-step.active .progress-step-number {
            background: white;
            border-color: #001E79;
            color: #001E79;
            border-width: 2px;
        }

        .progress-step-label {
            font-size: 13px;
            font-weight: 600;
            color: #9CA3AF;
            line-height: 1.3;
        }

        .progress-step.active .progress-step-label {
            color: #001E79;
        }

        .progress-step.completed .progress-step-label {
            color: #1A1A1A;
        }

        .progress-step-description {
            font-size: 12px;
            color: #9CA3AF;
            line-height: 1.3;
        }

        .progress-step.active .progress-step-description {
            color: #6B7280;
        }

        .progress-step-connector {
            position: absolute;
            top: 16px;
            left: 32px;
            right: -50%;
            height: 2px;
            background: #E5E7EB;
            z-index: 0;
        }

        .progress-step.completed .progress-step-connector {
            background: #001E79;
        }

        .progress-step:last-child .progress-step-connector {
            display: none;
        }

        .form-content {
            padding: 40px 40px 120px 40px;
            max-width: 100%;
        }

        .form-step {
            width: 100%;
        }

        .form-section {
            background: transparent;
            border: none;
            padding: 0;
            margin-bottom: 24px;
        }

        .form-section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .form-section-title i {
            color: #6B7280;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
            max-width: 1400px;
        }

        @media (max-width: 1024px) {
            .form-grid {
                grid-template-columns: 1fr;
            }

            .form-content {
                padding: 24px 24px 120px 24px;
            }

            .form-actions {
                padding: 24px;
            }
        }

        @media (max-width: 640px) {
            .form-content {
                padding: 16px 16px 120px 16px;
            }

            .form-header {
                padding: 24px 16px;
            }

            .form-actions {
                padding: 16px;
                flex-direction: column;
                gap: 12px;
            }

            .form-actions-left,
            .form-actions-right {
                width: 100%;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        .form-field {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-field.full-width {
            grid-column: 1 / -1;
        }

        .form-label {
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .form-label .required {
            color: #EF4444;
        }

        .form-input,
        .form-select,
        .form-textarea {
            padding: 12px;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
            font-size: 14px;
            color: #1A1A1A;
            font-family: inherit;
            transition: border-color 0.2s;
            background: white;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: #001E79;
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-textarea.large {
            min-height: 150px;
        }

        .form-helper {
            font-size: 12px;
            color: #6B7280;
        }

        .form-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px 40px;
            border-top: 1px solid #E5E7EB;
            background: white;
            position: sticky;
            bottom: 0;
        }

        .form-actions-left {
            display: flex;
            gap: 12px;
        }

        .form-actions-right {
            display: flex;
            gap: 12px;
        }

        .btn {
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
            border: none;
        }

        .btn-secondary {
            background: white;
            color: #374151;
            border: 1px solid #D1D5DB;
        }

        .btn-secondary:hover {
            background: #F9FAFB;
        }

        .btn-primary {
            background: #001E79;
            color: white;
            border: 1px solid #001E79;
        }

        .btn-primary:hover {
            background: #001557;
        }

        .btn-outline {
            background: transparent;
            color: #374151;
            border: 1px solid #D1D5DB;
        }

        .btn-outline:hover {
            background: #F9FAFB;
        }

        /* Dataset List Styles */
        .dataset-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-top: 16px;
        }

        .dataset-item {
            background: white;
            border: 1px solid #E5E7EB;
            border-radius: 8px;
            padding: 20px;
            position: relative;
        }

        .dataset-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .dataset-item-title {
            font-size: 16px;
            font-weight: 600;
            color: #1A1A1A;
        }

        .remove-dataset-btn {
            padding: 8px 16px;
            border: 1px solid #EF4444;
            background: white;
            color: #EF4444;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s;
        }

        .remove-dataset-btn:hover {
            background: #FEE2E2;
        }

        .add-dataset-btn {
            padding: 12px 24px;
            border: 2px dashed #D1D5DB;
            background: white;
            color: #374151;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.2s;
            width: 100%;
            margin-top: 16px;
        }

        .add-dataset-btn:hover {
            border-color: #001E79;
            color: #001E79;
            background: #F0F4FF;
        }

        .connection-test-btn {
            padding: 10px 20px;
            border: 1px solid #D1D5DB;
            background: white;
            color: #374151;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
            margin-top: 16px;
        }

        .connection-test-btn:hover {
            background: #F9FAFB;
        }

        .connection-status {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 16px;
            padding: 12px;
            border-radius: 6px;
            font-size: 14px;
        }

        .connection-status.success {
            background: #D1FAE5;
            color: #065F46;
        }

        .connection-status.error {
            background: #FEE2E2;
            color: #991B1B;
        }

        /* Platform Selection Cards */
        .platform-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-top: 16px;
        }

        .platform-card {
            padding: 24px;
            border: 2px solid #E5E7EB;
            border-radius: 12px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            text-align: center;
        }

        .platform-card:hover {
            border-color: #001E79;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 30, 121, 0.1);
        }

        .platform-card.selected {
            border-color: #001E79;
            background: #F0F4FF;
        }

        .platform-card input[type="radio"] {
            display: none;
        }

        .platform-card-icon {
            width: 56px;
            height: 56px;
            border-radius: 12px;
            background: #EFF6FF;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #001E79;
            font-size: 32px;
        }

        .platform-card.selected .platform-card-icon {
            background: #001E79;
            color: white;
        }

        .platform-card-name {
            font-size: 16px;
            font-weight: 600;
            color: #1A1A1A;
        }

        .connection-card {
            background: white;
            border: 1px solid #E5E7EB;
            border-radius: 12px;
            padding: 24px;
            margin-top: 24px;
        }

        .connection-card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid #E5E7EB;
        }

        .connection-card-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: #EFF6FF;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #001E79;
        }

        .connection-card-title {
            font-size: 16px;
            font-weight: 600;
            color: #1A1A1A;
        }

        @media (max-width: 1024px) {
            .platform-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 640px) {
            .platform-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Entitlement Styles */
        .visibility-options {
            display: flex;
            gap: 16px;
            margin-top: 16px;
        }

        .visibility-option {
            flex: 1;
            padding: 20px;
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            background: white;
            cursor: pointer;
            transition: all 0.2s;
        }

        .visibility-option:hover {
            border-color: #001E79;
        }

        .visibility-option.selected {
            border-color: #001E79;
            background: #F0F4FF;
        }

        .visibility-option input[type="radio"] {
            display: none;
        }

        .visibility-option-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .visibility-option-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: #EFF6FF;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #001E79;
        }

        .visibility-option.selected .visibility-option-icon {
            background: #001E79;
            color: white;
        }

        .visibility-option-title {
            font-size: 16px;
            font-weight: 600;
            color: #1A1A1A;
        }

        .visibility-option-description {
            font-size: 13px;
            color: #6B7280;
            line-height: 1.5;
        }

        .access-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 16px;
        }

        .access-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px;
            background: white;
            border: 1px solid #E5E7EB;
            border-radius: 8px;
        }

        .access-item-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .access-item-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 14px;
        }

        .access-item-info {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .access-item-name {
            font-size: 14px;
            font-weight: 600;
            color: #1A1A1A;
        }

        .access-item-role {
            font-size: 12px;
            color: #6B7280;
        }

        .access-item-right {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .access-level-select {
            padding: 8px 12px;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
            background: white;
            font-size: 14px;
            color: #374151;
            cursor: pointer;
        }

        .remove-access-btn {
            padding: 8px;
            border: none;
            background: transparent;
            color: #EF4444;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .remove-access-btn:hover {
            background: #FEE2E2;
            border-radius: 4px;
        }

        .add-access-btn {
            padding: 12px 24px;
            border: 2px dashed #D1D5DB;
            background: white;
            color: #374151;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.2s;
            width: 100%;
            margin-top: 16px;
        }

        .add-access-btn:hover {
            border-color: #001E79;
            color: #001E79;
            background: #F0F4FF;
        }

        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 16px;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: white;
            border: 1px solid #E5E7EB;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .checkbox-item:hover {
            background: #F9FAFB;
        }

        .checkbox-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .checkbox-item-label {
            flex: 1;
            font-size: 14px;
            color: #374151;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .visibility-options {
                flex-direction: column;
            }

            .progress-indicator {
                padding: 24px 20px;
            }

            .progress-step {
                gap: 12px;
            }

            .progress-step-number {
                width: 28px;
                height: 28px;
                font-size: 12px;
            }

            .progress-step-label {
                font-size: 12px;
            }

            .progress-step-description {
                font-size: 11px;
            }

            .progress-step-connector {
                top: 14px;
            }
        }

        /* Marketplace View Styles */
        .marketplace-view {
            display: none;
            background: #F9FAFB;
        }

        .marketplace-hero {
            background: #EFF6FF;
            padding: 32px 40px;
            margin-top: 65px;
            border-bottom: 1px solid #E5E7EB;
        }

        .marketplace-hero h1 {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #111827;
        }

        .marketplace-hero p {
            font-size: 14px;
            color: #6B7280;
            max-width: 700px;
            line-height: 1.6;
        }

        .marketplace-content {
            padding: 32px 40px;
        }

        /* Recommendations Section */
        .recommendations-section {
            margin-bottom: 48px;
        }

        .recommendations-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .recommendations-header h2 {
            font-size: 20px;
            font-weight: 600;
            color: #111827;
        }

        .recommendations-header h3 {
            margin-bottom: 0;
        }

        .section-title {
            font-size: 20px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 24px;
        }

        .hidden-recommendation {
            display: none;
        }

        .recommendations-grid.expanded .hidden-recommendation {
            display: block;
        }

        .view-all-link {
            color: #2563EB;
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
        }

        .view-all-link:hover {
            text-decoration: underline;
        }

        .recommendations-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }

        .recommendation-card {
            background: white;
            border-radius: 8px;
            padding: 24px;
            border: 2px solid #E5E7EB;
            position: relative;
            transition: all 0.2s;
        }

        .recommendation-card:hover {
            border-color: #2563EB;
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.1);
        }

        .recommendation-badge {
            position: absolute;
            top: 16px;
            right: 16px;
            background: #2563EB;
            color: white;
            font-size: 11px;
            font-weight: 600;
            padding: 4px 10px;
            border-radius: 12px;
            text-transform: uppercase;
        }

        .recommendation-badge.trending {
            background: #059669;
        }

        .recommendation-badge.new {
            background: #DC2626;
        }

        .recommendation-card .product-icon {
            width: 48px;
            height: 48px;
            background: #EFF6FF;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
        }

        .recommendation-card .product-icon i {
            font-size: 24px;
            color: #2563EB;
        }

        .recommendation-card .product-icon.blue {
            background: #DBEAFE;
        }

        .recommendation-card .product-icon.green {
            background: #D1FAE5;
        }

        .recommendation-card .product-icon.green i {
            color: #059669;
        }

        .recommendation-title {
            font-size: 16px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 8px;
        }

        .recommendation-dept {
            font-size: 13px;
            color: #6B7280;
            margin-bottom: 12px;
        }

        .recommendation-stats {
            display: flex;
            gap: 8px;
            align-items: center;
            font-size: 13px;
            color: #6B7280;
        }

        /* Marketplace Cards */
        .marketplace-card {
            position: relative;
        }

        .marketplace-card .product-footer {
            flex-direction: column;
            gap: 12px;
            align-items: stretch;
        }

        .marketplace-card-actions {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .marketplace-card-actions .favorite-btn {
            position: static;
            width: 36px;
            height: 36px;
            background: white;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            flex-shrink: 0;
        }

        .marketplace-card-actions .favorite-btn:hover {
            background: #FEF2F2;
            border-color: #DC2626;
        }

        .marketplace-card-actions .favorite-btn i {
            font-size: 18px;
            color: #6B7280;
        }

        .marketplace-card-actions .favorite-btn.active i {
            color: #DC2626;
        }

        .marketplace-card-actions .share-btn {
            background: white;
            border: 1px solid #D1D5DB;
            width: 36px;
            height: 36px;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            flex-shrink: 0;
            margin-left: auto;
        }

        .marketplace-card-actions .share-btn:hover {
            background: #F9FAFB;
        }

        .marketplace-card-actions .share-btn i {
            font-size: 18px;
            color: #6B7280;
        }

        .marketplace-card-actions .add-to-cart-btn {
            background: #1E40AF;
            border: 1px solid #1E40AF;
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 13px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            flex-shrink: 0;
        }

        .marketplace-card-actions .add-to-cart-btn:hover {
            background: #1E3A8A;
        }

        .marketplace-card-actions .add-to-cart-btn i {
            font-size: 16px;
        }

        .favorite-btn {
            position: absolute;
            top: 16px;
            right: 16px;
            background: white;
            border: 1px solid #E5E7EB;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            z-index: 10;
        }

        .favorite-btn:hover {
            background: #FEF2F2;
            border-color: #DC2626;
        }

        .favorite-btn i {
            font-size: 18px;
            color: #9CA3AF;
        }

        .favorite-btn.active i {
            color: #DC2626;
        }

        /* Consumer Product Detail */
        .consumer-product-detail {
            display: none;
            background: #F9FAFB;
            margin-top: 65px;
        }

        .consumer-actions {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .consumer-actions .favorite-btn {
            position: static;
            width: 40px;
            height: 40px;
        }

        .available-in-dropdown {
            position: relative;
        }

        .available-in-btn {
            background: white;
            border: 1px solid #D1D5DB;
            padding: 10px 16px;
            border-radius: 6px;
            font-size: 14px;
            color: #374151;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 180px;
            justify-content: space-between;
        }

        .available-in-btn:hover {
            background: #F9FAFB;
        }

        .available-in-menu {
            display: none;
            position: absolute;
            top: calc(100% + 4px);
            left: 0;
            background: white;
            border: 1px solid #E5E7EB;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            z-index: 100;
            min-width: 180px;
        }

        .available-in-menu.active {
            display: block;
        }

        .available-in-option {
            padding: 10px 16px;
            cursor: pointer;
            font-size: 14px;
            color: #374151;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .available-in-option:hover {
            background: #F9FAFB;
        }

        .available-in-option.selected {
            background: #EFF6FF;
            color: #2563EB;
            font-weight: 500;
        }

        .add-to-cart-btn {
            background: #001E79;
            color: white;
            border: none;
            padding: 10px 24px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .add-to-cart-btn:hover {
            background: #001557;
        }

        /* Cart View */
        .cart-view {
            display: none;
            background: #F9FAFB;
            min-height: calc(100vh - 65px);
            margin-top: 65px;
        }

        .cart-header {
            background: white;
            padding: 24px 40px;
            border-bottom: 1px solid #E5E7EB;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-header h1 {
            font-size: 24px;
            font-weight: 600;
            color: #111827;
        }

        .continue-shopping-btn {
            background: white;
            border: 1px solid #D1D5DB;
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .continue-shopping-btn:hover {
            background: #F9FAFB;
        }

        .cart-content {
            display: flex;
            gap: 24px;
            padding: 32px 40px;
            max-width: 1400px;
        }

        .cart-items {
            flex: 1;
        }

        .cart-item-card {
            background: white;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 16px;
            border: 1px solid #E5E7EB;
        }

        .cart-item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 16px;
        }

        .cart-item-info h3 {
            font-size: 16px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 8px;
        }

        .cart-item-meta {
            display: flex;
            gap: 16px;
            font-size: 13px;
            color: #6B7280;
        }

        .remove-item-btn {
            background: none;
            border: none;
            color: #DC2626;
            cursor: pointer;
            font-size: 20px;
            padding: 0;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .remove-item-btn:hover {
            color: #991B1B;
        }

        .business-justification {
            margin-top: 16px;
        }

        .business-justification label {
            display: block;
            font-size: 14px;
            font-weight: 500;
            color: #374151;
            margin-bottom: 8px;
        }

        .business-justification textarea {
            width: 100%;
            min-height: 80px;
            padding: 12px;
            border: 1px solid #D1D5DB;
            border-radius: 6px;
            font-size: 14px;
            color: #374151;
            resize: vertical;
            font-family: inherit;
        }

        .business-justification textarea:focus {
            outline: none;
            border-color: #2563EB;
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .empty-cart {
            text-align: center;
            padding: 64px 24px;
        }

        .empty-cart i {
            font-size: 64px;
            color: #D1D5DB;
            margin-bottom: 16px;
        }

        .empty-cart h2 {
            font-size: 20px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 8px;
        }

        .empty-cart p {
            font-size: 14px;
            color: #6B7280;
            margin-bottom: 24px;
        }

        .cart-summary {
            width: 360px;
            flex-shrink: 0;
        }

        .cart-summary-card {
            background: white;
            border-radius: 8px;
            padding: 24px;
            border: 1px solid #E5E7EB;
            position: sticky;
            top: 97px;
        }

        .cart-summary-card h3 {
            font-size: 18px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 20px;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            font-size: 14px;
        }

        .summary-row.total {
            border-top: 1px solid #E5E7EB;
            margin-top: 12px;
            padding-top: 20px;
            font-size: 16px;
            font-weight: 600;
        }

        .summary-label {
            color: #6B7280;
        }

        .summary-value {
            color: #111827;
            font-weight: 500;
        }

        .checkout-btn {
            width: 100%;
            background: #001E79;
            color: white;
            border: none;
            padding: 14px 24px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            margin-top: 24px;
        }

        .checkout-btn:hover {
            background: #001557;
        }

        .checkout-btn:disabled {
            background: #D1D5DB;
            cursor: not-allowed;
        }

        /* Checkout View */
        .checkout-view {
            display: none;
            background: #F9FAFB;
            min-height: calc(100vh - 65px);
            margin-top: 65px;
        }

        .checkout-header {
            background: white;
            padding: 24px 40px;
            border-bottom: 1px solid #E5E7EB;
        }

        .checkout-header h1 {
            font-size: 24px;
            font-weight: 600;
            color: #111827;
        }

        .checkout-content {
            display: flex;
            gap: 24px;
            padding: 32px 40px;
            max-width: 1400px;
        }

        .checkout-main {
            flex: 1;
        }

        .checkout-section {
            background: white;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 24px;
            border: 1px solid #E5E7EB;
        }

        .checkout-section h2 {
            font-size: 18px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 20px;
        }

        .delivery-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
        }

        .delivery-option {
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            padding: 16px;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }

        .delivery-option:hover {
            border-color: #2563EB;
            background: #F9FAFB;
        }

        .delivery-option.selected {
            border-color: #2563EB;
            background: #EFF6FF;
        }

        .delivery-option input[type="radio"] {
            margin-top: 2px;
            cursor: pointer;
        }

        .delivery-option-content {
            flex: 1;
        }

        .delivery-option-label {
            font-size: 14px;
            font-weight: 600;
            color: #111827;
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .delivery-option-desc {
            font-size: 13px;
            color: #6B7280;
        }

        .order-items {
            margin-top: 16px;
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            padding: 16px 0;
            border-bottom: 1px solid #E5E7EB;
        }

        .order-item:last-child {
            border-bottom: none;
        }

        .order-item-info h4 {
            font-size: 14px;
            font-weight: 500;
            color: #111827;
            margin-bottom: 4px;
        }

        .order-item-meta {
            font-size: 13px;
            color: #6B7280;
        }

        .submit-order-btn {
            width: 100%;
            background: #001E79;
            color: white;
            border: none;
            padding: 14px 24px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            margin-top: 24px;
        }

        .submit-order-btn:hover {
            background: #001557;
        }

        .submit-order-btn:disabled {
            background: #D1D5DB;
            cursor: not-allowed;
        }

        @media (max-width: 1200px) {
            .recommendations-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .cart-content,
            .checkout-content {
                flex-direction: column;
            }

            .cart-summary {
                width: 100%;
            }

            .delivery-options {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .recommendations-grid {
                grid-template-columns: 1fr;
            }

            .marketplace-hero {
                padding: 32px 20px;
            }

            .marketplace-content {
                padding: 24px 20px;
            }

            .cart-header,
            .checkout-header {
                padding: 20px;
            }

            .cart-content,
            .checkout-content {
                padding: 24px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo-section">
            <div class="logo">
                <svg width="115" height="32" viewBox="0 0 115 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g clip-path="url(#clip0_78_336)">
                        <g clip-path="url(#clip1_78_336)">
                            <path d="M113.441 19.902C113.156 19.902 112.876 19.9868 112.639 20.1457C112.401 20.3046 112.216 20.5304 112.107 20.7946C111.997 21.0588 111.969 21.3494 112.025 21.6297C112.081 21.91 112.219 22.1674 112.422 22.3692C112.624 22.571 112.882 22.7082 113.162 22.7634C113.443 22.8187 113.733 22.7894 113.997 22.6794C114.261 22.5694 114.486 22.3836 114.645 22.1455C114.803 21.9074 114.887 21.6277 114.886 21.3419C114.887 21.1521 114.85 20.9639 114.778 20.7884C114.706 20.6129 114.6 20.4535 114.465 20.3195C114.331 20.1855 114.171 20.0795 113.995 20.0079C113.819 19.9362 113.631 19.9002 113.441 19.902ZM113.441 22.5684C113.194 22.5702 112.952 22.4985 112.745 22.3623C112.539 22.2262 112.377 22.0318 112.281 21.8037C112.185 21.5757 112.159 21.3243 112.207 21.0815C112.254 20.8387 112.372 20.6153 112.546 20.4398C112.721 20.2643 112.943 20.1444 113.186 20.0955C113.428 20.0466 113.68 20.0708 113.908 20.1651C114.137 20.2593 114.333 20.4194 114.47 20.6249C114.608 20.8305 114.681 21.0723 114.681 21.3196C114.687 21.4854 114.659 21.6505 114.599 21.8051C114.539 21.9597 114.448 22.1006 114.332 22.2193C114.216 22.338 114.078 22.4321 113.925 22.4959C113.772 22.5597 113.607 22.592 113.441 22.5907V22.5684Z" fill="#001E79"/>
                            <path d="M114.068 21.7907C114.064 21.7027 114.035 21.6176 113.983 21.5463C113.951 21.5029 113.911 21.4667 113.864 21.4399C113.817 21.4131 113.766 21.3964 113.712 21.3908C113.792 21.3827 113.87 21.3569 113.939 21.3152C113.989 21.2813 114.03 21.2348 114.058 21.1803C114.085 21.1257 114.098 21.065 114.094 21.0041C114.103 20.9194 114.083 20.8342 114.039 20.7614C113.995 20.6885 113.929 20.6318 113.85 20.5997C113.706 20.5544 113.556 20.5348 113.405 20.5419H112.863V22.1285H113.139V21.5152H113.361C113.467 21.5085 113.573 21.5252 113.672 21.5641C113.828 21.6574 113.819 21.8574 113.823 22.0351C113.816 22.0689 113.816 22.1036 113.823 22.1374H114.081C114.066 22.1053 114.059 22.0704 114.059 22.0351C114.068 21.9596 114.068 21.9196 114.068 21.7907ZM113.392 21.3108H113.139V20.733H113.379C113.717 20.733 113.823 20.813 113.823 21.0263C113.823 21.2396 113.637 21.3108 113.392 21.3108Z" fill="#001E79"/>
                            <path d="M52.4273 6.01845C50.2053 6.01845 48.4276 6.93395 47.7387 7.94277V0.00108337H42.8857V22.5907H47.6676V20.7686C48.4187 22.0085 50.0764 22.9506 52.2273 22.9506C56.7515 22.9506 59.9424 19.3953 59.9424 14.4534C59.9468 9.60043 57.1159 6.01845 52.4273 6.01845ZM51.3518 18.5243C49.432 18.5243 47.6721 17.1555 47.6721 14.4845C47.6721 11.8136 49.4497 10.4848 51.3518 10.4848C53.2539 10.4848 55.0005 11.7558 55.0005 14.4845C55.0005 17.2133 53.2717 18.5243 51.3518 18.5243Z" fill="#001E79"/>
                            <path d="M75.4705 20.0842V12.1825C75.4705 8.86271 73.5507 5.92957 68.311 5.92957C63.5558 5.92957 61.4048 8.99159 61.2004 11.3025L65.4979 12.1914C65.5558 11.5113 65.8783 10.8811 66.3961 10.4365C66.9139 9.99181 67.5856 9.7682 68.2666 9.81375C69.8309 9.81375 70.6442 10.627 70.6442 11.5914C70.6442 12.1425 70.3509 12.5691 69.4709 12.698L65.6623 13.2846C62.9958 13.6757 60.876 15.3023 60.876 18.1732C60.876 20.7419 62.9292 23.0884 66.4756 23.0884C68.6266 23.0884 70.1865 22.1996 71.0353 20.8086C71.017 21.4203 71.0722 22.0321 71.1997 22.6307H75.6439C75.5184 21.7878 75.4604 20.9363 75.4705 20.0842ZM70.6531 16.2444C70.6531 18.7509 69.1554 19.4664 67.6888 19.4664C66.3245 19.4664 65.769 18.6532 65.769 17.8043C65.769 16.6666 66.5511 16.1778 67.5911 16.0267L70.6531 15.5378V16.2444Z" fill="#001E79"/>
                            <path d="M92.8338 12.4358V22.5907H87.8875V13.258C87.8875 11.6625 87.0386 10.4582 85.2476 10.4582C83.6211 10.4582 82.5811 11.6625 82.5811 13.2891V22.5907H77.6304V6.4051H82.4167V8.26275C83.3055 6.73396 85.2832 5.9829 86.9409 5.9829C91.0117 5.98735 92.8338 8.88493 92.8338 12.4358Z" fill="#001E79"/>
                            <path d="M100.006 0.00108337V11.8492L104.922 6.41398H111.339L105.019 13.218L111.468 22.5951H105.41L101.602 16.8977L100.006 18.622V22.5951H95.0601V0.00108337H100.006Z" fill="#001E79"/>
                            <path d="M0 24.2217L19.332 31.9989L38.6641 24.2217V0.00108337H0V24.2217Z" fill="#CF2A36"/>
                            <path d="M14.7059 20.9641C13.8615 22.364 12.0039 22.9506 10.3773 22.9506C6.43535 22.9506 4.22217 20.0842 4.22217 16.6355V6.40509H9.17294V15.5911C9.17294 17.1555 10.0173 18.391 11.7772 18.391C13.4393 18.391 14.4793 17.2533 14.4793 15.6267V6.40509H19.43V19.6931C19.4293 20.6612 19.4827 21.6285 19.59 22.5907H14.8392C14.7564 22.0523 14.7118 21.5088 14.7059 20.9641Z" fill="white"/>
                            <path d="M25.5852 17.2533C25.6518 18.3598 26.434 19.4353 28.1272 19.4353C29.3982 19.4353 30.016 18.7509 30.016 18.0354C30.016 17.4488 29.6249 16.9599 28.4205 16.7022L26.5629 16.2578C23.1142 15.5289 21.7454 13.5735 21.7454 11.2937C21.7454 8.33386 24.3497 5.92068 27.9672 5.92068C32.6558 5.92068 34.2868 8.85382 34.4468 10.7426L30.336 11.4892C30.3169 11.2071 30.2418 10.9317 30.115 10.6791C29.9882 10.4264 29.8122 10.2016 29.5974 10.0178C29.3826 9.83407 29.1333 9.69503 28.864 9.60885C28.5948 9.52268 28.311 9.49111 28.0294 9.516C27.0828 9.516 26.2518 10.0715 26.2518 10.9159C26.2518 11.6003 26.8073 11.9914 27.5228 12.1203L29.6738 12.5647C33.0247 13.2446 34.6512 15.2667 34.6512 17.6399C34.6512 20.4086 32.5358 23.1106 28.2072 23.1106C23.1276 23.1106 21.501 19.822 21.3677 18.031L25.5852 17.2533Z" fill="white"/>
                        </g>
                    </g>
                    <defs>
                        <clipPath id="clip0_78_336">
                            <rect width="114.89" height="32" fill="white"/>
                        </clipPath>
                        <clipPath id="clip1_78_336">
                            <rect width="114.89" height="31.9978" fill="white" transform="translate(0 0.00108337)"/>
                        </clipPath>
                    </defs>
                </svg>
            </div>
            <span class="tagline">Discover. Access. Analyze</span>
        </div>
        <nav class="nav">
            <a href="#" class="nav-item active" id="myListingsTab" onclick="showMyListings()">My Listings</a>
            <a href="#" class="nav-item" id="marketplaceTab" onclick="showMarketplace()">Marketplace</a>
            <a href="#" class="nav-item">Analytics</a>
            <a href="#" class="nav-item">Governance</a>
            <button class="cart-icon-btn" id="cartBtn" onclick="showCart()">
                <i class="ph ph-shopping-cart"></i>
                <span class="cart-count" id="cartCount">0</span>
            </button>
            <div class="user-avatar"></div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <div class="hero-text">
                <h1>Hello, Coral</h1>
                <p>You have 4 active listings generating steady interest, with 3 active bids currently in progress. Two new listings were added this month, and buyer engagement continues to trend upward.</p>
            </div>
            <button class="create-btn">
                <span class="create-btn-icon">+</span>
                Create New Listing
            </button>
        </div>

        <!-- Stats -->
        <div class="stats">
            <div class="stat-card">
                <div class="stat-label">Active Listings</div>
                <div class="stat-value">4</div>
                <div class="stat-change">+2 this month</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Pending Approvals</div>
                <div class="stat-value">2</div>
                <div class="stat-change">+2 this month</div>
            </div>
            <div class="stat-card" onclick="showDrafts()" style="cursor: pointer;">
                <div class="stat-label">Drafts</div>
                <div class="stat-value" id="draftCount">0</div>
                <div class="stat-change">Click to view</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Downloads</div>
                <div class="stat-value">121</div>
                <div class="stat-change">+2 this month</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Value Generated</div>
                <div class="stat-value">124%</div>
                <div class="stat-change">+2 this month</div>
            </div>
            <div class="stat-card">
                <div class="stat-label">Listing Engagement</div>
                <div class="stat-value">1.2k Views</div>
                <div class="stat-change">+2 this month</div>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Filters -->
        <div class="filters">
            <!-- Department Filter -->
            <div class="filter-container">
                <button class="filter-btn" id="departmentFilterBtn">
                    All Departments
                    <i class="ph ph-caret-down"></i>
                </button>
                <div class="filter-panel" id="departmentFilterPanel">
                    <div class="filter-search">
                        <i class="ph ph-magnifying-glass"></i>
                        <input type="text" placeholder="Search departments..." id="departmentSearch">
                    </div>
                    <div class="filter-options" id="departmentOptions">
                        <label class="filter-option">
                            <input type="checkbox" value="Risk Management" data-filter="department">
                            <span>Risk Management</span>
                        </label>
                        <label class="filter-option">
                            <input type="checkbox" value="Finance" data-filter="department">
                            <span>Finance</span>
                        </label>
                        <label class="filter-option">
                            <input type="checkbox" value="Marketing" data-filter="department">
                            <span>Marketing</span>
                        </label>
                        <label class="filter-option">
                            <input type="checkbox" value="Operations" data-filter="department">
                            <span>Operations</span>
                        </label>
                        <label class="filter-option">
                            <input type="checkbox" value="Data Science" data-filter="department">
                            <span>Data Science</span>
                        </label>
                        <label class="filter-option">
                            <input type="checkbox" value="Engineering" data-filter="department">
                            <span>Engineering</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Medallion Level Filter -->
            <div class="filter-container">
                <button class="filter-btn" id="medallionFilterBtn">
                    Medallion Level
                    <i class="ph ph-caret-down"></i>
                </button>
                <div class="filter-panel" id="medallionFilterPanel">
                    <div class="filter-options" id="medallionOptions">
                        <label class="filter-option">
                            <input type="checkbox" value="Gold" data-filter="medallion">
                            <span> Gold</span>
                        </label>
                        <label class="filter-option">
                            <input type="checkbox" value="Silver" data-filter="medallion">
                            <span> Silver</span>
                        </label>
                        <label class="filter-option">
                            <input type="checkbox" value="Bronze" data-filter="medallion">
                            <span> Bronze</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Status Filter -->
            <div class="filter-container">
                <button class="filter-btn" id="statusFilterBtn">
                    Status
                    <i class="ph ph-caret-down"></i>
                </button>
                <div class="filter-panel" id="statusFilterPanel">
                    <div class="filter-options" id="statusOptions">
                        <div class="filter-option-item" data-filter="status" data-value="Published">
                            Published
                        </div>
                        <div class="filter-option-item" data-filter="status" data-value="Draft">
                            Draft
                        </div>
                        <div class="filter-option-item" data-filter="status" data-value="Under Review">
                            Under Review
                        </div>
                        <div class="filter-option-item" data-filter="status" data-value="Archived">
                            Archived
                        </div>
                    </div>
                </div>
            </div>

            <div class="search-container">
                <svg class="search-icon" width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
                </svg>
                <input type="text" class="search-input" placeholder="Search my listings">
            </div>
            <div class="sort-container">
                <button class="sort-btn" id="sortBtn">
                    <i class="ph ph-sort-ascending"></i>
                </button>
                <div class="sort-dropdown" id="sortDropdown">
                    <div class="sort-option selected" data-sort="a-z">
                        <i class="ph ph-sort-ascending"></i>
                        A-Z
                    </div>
                    <div class="sort-option" data-sort="z-a">
                        <i class="ph ph-sort-descending"></i>
                        Z-A
                    </div>
                    <div class="sort-option" data-sort="most-critical">
                        <i class="ph ph-warning-circle"></i>
                        Most Critical
                    </div>
                    <div class="sort-option" data-sort="newest">
                        <i class="ph ph-clock"></i>
                        Newest First
                    </div>
                    <div class="sort-option" data-sort="rating">
                        <i class="ph ph-star"></i>
                        Highest Rated
                    </div>
                </div>
            </div>
        </div>

        <!-- Active Filters -->
        <div class="active-filters-container" id="activeFiltersContainer" style="display: none;">
            <div class="active-filters-header">
                <span class="active-filters-label">Active Filters Indicator</span>
            </div>
            <div class="active-filters" id="activeFilters"></div>
        </div>

        <!-- Listings Header -->
        <div class="listings-header">
            <h2>My Listings</h2>
            <span class="listings-count">12</span>
        </div>

        <!-- Product Grid -->
        <div class="product-grid">
            <!-- Product Card 1 -->
            <div class="product-card">
                <div class="product-header">
                    <div class="product-icon">
                        <i class="ph ph-brackets-curly"></i>
                    </div>
                    <div class="product-info">
                        <div class="product-title">Title of Data Product</div>
                        <div class="product-meta">
                            <span class="product-owner">JSON</span>
                            <span class="status-badge published">Published</span>
                            <div class="product-rating">
                                <span class="star"></span>
                                <span class="rating-value">4.8</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="product-dept">Department</div>
                <div class="product-description">Real-time fraud detection events with risk scores, flagged transactions, and investigation status.</div>
                <div class="product-footer">
                    <div class="active-users">
                        <span>Active Users</span>
                        <strong>132</strong>
                    </div>
                    <div class="alert">
                        <span class="alert-icon"></span>
                        Alert title
                    </div>
                </div>
            </div>

            <!-- Product Card 2 -->
            <div class="product-card">
                <div class="product-header">
                    <div class="product-icon blue">
                        <i class="ph ph-chart-line"></i>
                    </div>
                    <div class="product-info">
                        <div class="product-title">User Behavior Analytics</div>
                        <div class="product-meta">
                            <span class="product-owner">Dashboard</span>
                            <span class="status-badge published">Published</span>
                            <div class="product-rating">
                                <span class="star"></span>
                                <span class="rating-value">4.8</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="product-dept">Department</div>
                <div class="product-description">Insights into customer interactions, engagement metrics, and conversion rates.</div>
                <div class="product-footer">
                    <div class="active-users">
                        <span>Active Users</span>
                        <strong>132</strong>
                    </div>
                    <div class="alert">
                        <span class="alert-icon"></span>
                        Alert title
                    </div>
                </div>
            </div>

            <!-- Product Card 3 -->
            <div class="product-card">
                <div class="product-header">
                    <div class="product-icon green">
                        <i class="ph ph-table"></i>
                    </div>
                    <div class="product-info">
                        <div class="product-title">System Performance Metrics</div>
                        <div class="product-meta">
                            <span class="product-owner">Table</span>
                            <span class="status-badge published">Published</span>
                            <div class="product-rating">
                                <span class="star"></span>
                                <span class="rating-value">4.8</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="product-dept">IT Operations</div>
                <div class="product-description">Monitoring server uptime, response times, and user load.</div>
                <div class="product-footer">
                    <div class="active-users">
                        <span>Active Users</span>
                        <strong>132</strong>
                    </div>
                    <div class="alert">
                        <span class="alert-icon"></span>
                        Alert title
                    </div>
                </div>
            </div>

            <!-- Product Card 4 -->
            <div class="product-card">
                <div class="product-header">
                    <div class="product-icon">
                        <i class="ph ph-brackets-curly"></i>
                    </div>
                    <div class="product-info">
                        <div class="product-title">Sentiment Analysis</div>
                        <div class="product-meta">
                            <span class="product-owner">JSON</span>
                            <span class="status-badge published">Published</span>
                            <div class="product-rating">
                                <span class="star"></span>
                                <span class="rating-value">4.8</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="product-dept">Department</div>
                <div class="product-description">Analysis of customer feedback, sentiment scores, and satisfaction metrics.</div>
                <div class="product-footer">
                    <div class="active-users">
                        <span>Active Users</span>
                        <strong>132</strong>
                    </div>
                    <div class="alert">
                        <span class="alert-icon"></span>
                        Alert title
                    </div>
                </div>
            </div>

            <!-- Product Card 5 (Second Row) -->
            <div class="product-card">
                <div class="product-header">
                    <div class="product-icon">
                        <i class="ph ph-brackets-curly"></i>
                    </div>
                    <div class="product-info">
                        <div class="product-title">Title of Data Product</div>
                        <div class="product-meta">
                            <span class="product-owner">JSON</span>
                            <span class="status-badge published">Published</span>
                            <div class="product-rating">
                                <span class="star"></span>
                                <span class="rating-value">4.8</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="product-dept">Department</div>
                <div class="product-description">Real-time fraud detection events with risk scores, flagged transactions, and investigation status.</div>
                <div class="product-footer">
                    <div class="active-users">
                        <span>Active Users</span>
                        <strong>132</strong>
                    </div>
                    <div class="alert">
                        <span class="alert-icon"></span>
                        Alert title
                    </div>
                </div>
            </div>

            <!-- Product Card 6 -->
            <div class="product-card">
                <div class="product-header">
                    <div class="product-icon blue">
                        <i class="ph ph-chart-line"></i>
                    </div>
                    <div class="product-info">
                        <div class="product-title">User Behavior Analytics</div>
                        <div class="product-meta">
                            <span class="product-owner">Dashboard</span>
                            <span class="status-badge published">Published</span>
                            <div class="product-rating">
                                <span class="star"></span>
                                <span class="rating-value">4.8</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="product-dept">Department</div>
                <div class="product-description">Insights into customer interactions, engagement metrics, and conversion rates.</div>
                <div class="product-footer">
                    <div class="active-users">
                        <span>Active Users</span>
                        <strong>132</strong>
                    </div>
                    <div class="alert">
                        <span class="alert-icon"></span>
                        Alert title
                    </div>
                </div>
            </div>

            <!-- Product Card 7 -->
            <div class="product-card">
                <div class="product-header">
                    <div class="product-icon green">
                        <i class="ph ph-chart-line"></i>
                    </div>
                    <div class="product-info">
                        <div class="product-title">System Performance Metrics</div>
                        <div class="product-meta">
                            <span class="product-owner">Dashboard</span>
                            <span class="status-badge published">Published</span>
                            <div class="product-rating">
                                <span class="star"></span>
                                <span class="rating-value">4.8</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="product-dept">Department</div>
                <div class="product-description">Monitoring server uptime, response times, and user load.</div>
                <div class="product-footer">
                    <div class="active-users">
                        <span>Active Users</span>
                        <strong>132</strong>
                    </div>
                    <div class="alert">
                        <span class="alert-icon"></span>
                        Alert title
                    </div>
                </div>
            </div>

            <!-- Product Card 8 -->
            <div class="product-card">
                <div class="product-header">
                    <div class="product-icon">
                        <i class="ph ph-brackets-curly"></i>
                    </div>
                    <div class="product-info">
                        <div class="product-title">Sales Forecasting Tool</div>
                        <div class="product-meta">
                            <span class="product-owner">JSON</span>
                            <span class="status-badge published">Published</span>
                            <div class="product-rating">
                                <span class="star"></span>
                                <span class="rating-value">4.8</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="product-dept">Department</div>
                <div class="product-description">Predictive analytics for sales trends, revenue projections, and seasonal variations.</div>
                <div class="product-footer">
                    <div class="active-users">
                        <span>Active Users</span>
                        <strong>132</strong>
                    </div>
                    <div class="alert">
                        <span class="alert-icon"></span>
                        Alert title
                    </div>
                </div>
            </div>

            <!-- Product Card 9 -->
            <div class="product-card">
                <div class="product-header">
                    <div class="product-icon purple">
                        <i class="ph ph-users"></i>
                    </div>
                    <div class="product-info">
                        <div class="product-title">Customer Segmentation Data</div>
                        <div class="product-meta">
                            <span class="product-owner">Table</span>
                            <span class="status-badge published">Published</span>
                            <div class="product-rating">
                                <span class="star"></span>
                                <span class="rating-value">4.6</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="product-dept">Marketing</div>
                <div class="product-description">Demographic analysis, purchasing behavior, and customer lifetime value metrics.</div>
                <div class="product-footer">
                    <div class="active-users">
                        <span>Active Users</span>
                        <strong>98</strong>
                    </div>
                    <div class="alert">
                        <span class="alert-icon"></span>
                        Alert title
                    </div>
                </div>
            </div>

            <!-- Product Card 10 -->
            <div class="product-card">
                <div class="product-header">
                    <div class="product-icon orange">
                        <i class="ph ph-currency-dollar"></i>
                    </div>
                    <div class="product-info">
                        <div class="product-title">Financial Transactions Dataset</div>
                        <div class="product-meta">
                            <span class="product-owner">JSON</span>
                            <span class="status-badge published">Published</span>
                            <div class="product-rating">
                                <span class="star"></span>
                                <span class="rating-value">4.9</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="product-dept">Finance</div>
                <div class="product-description">Complete transaction history with timestamps, amounts, and reconciliation status.</div>
                <div class="product-footer">
                    <div class="active-users">
                        <span>Active Users</span>
                        <strong>215</strong>
                    </div>
                    <div class="alert">
                        <span class="alert-icon"></span>
                        Alert title
                    </div>
                </div>
            </div>

            <!-- Product Card 11 -->
            <div class="product-card">
                <div class="product-header">
                    <div class="product-icon blue">
                        <i class="ph ph-globe"></i>
                    </div>
                    <div class="product-info">
                        <div class="product-title">Web Traffic Analytics</div>
                        <div class="product-meta">
                            <span class="product-owner">Dashboard</span>
                            <span class="status-badge published">Published</span>
                            <div class="product-rating">
                                <span class="star"></span>
                                <span class="rating-value">4.7</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="product-dept">Digital Marketing</div>
                <div class="product-description">Page views, session duration, bounce rates, and conversion funnels.</div>
                <div class="product-footer">
                    <div class="active-users">
                        <span>Active Users</span>
                        <strong>156</strong>
                    </div>
                    <div class="alert">
                        <span class="alert-icon"></span>
                        Alert title
                    </div>
                </div>
            </div>

            <!-- Product Card 12 -->
            <div class="product-card">
                <div class="product-header">
                    <div class="product-icon green">
                        <i class="ph ph-shield-check"></i>
                    </div>
                    <div class="product-info">
                        <div class="product-title">Compliance Audit Logs</div>
                        <div class="product-meta">
                            <span class="product-owner">Table</span>
                            <span class="status-badge published">Published</span>
                            <div class="product-rating">
                                <span class="star"></span>
                                <span class="rating-value">4.8</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="product-dept">Risk Management</div>
                <div class="product-description">Detailed audit trail for regulatory compliance, user actions, and system changes.</div>
                <div class="product-footer">
                    <div class="active-users">
                        <span>Active Users</span>
                        <strong>87</strong>
                    </div>
                    <div class="alert">
                        <span class="alert-icon"></span>
                        Alert title
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Marketplace View -->
    <div id="marketplaceView" class="marketplace-view" style="display: none;">
        <!-- Marketplace Hero -->
        <section class="marketplace-hero">
            <div class="marketplace-hero-content">
                <div class="marketplace-hero-text">
                    <h1>Data Marketplace</h1>
                    <p>Discover and access curated data products from across the organization</p>
                </div>
            </div>
        </section>

        <!-- Marketplace Content -->
        <main class="marketplace-content">
            <!-- Filters -->
            <div class="filters">
                <!-- Department Filter -->
                <div class="filter-container">
                    <button class="filter-btn" id="marketplaceDepartmentFilterBtn" onclick="toggleMarketplaceFilterPanel(event, 'marketplaceDepartmentFilterPanel')">
                        All Departments
                        <i class="ph ph-caret-down"></i>
                    </button>
                    <div class="filter-panel" id="marketplaceDepartmentFilterPanel">
                        <div class="filter-search">
                            <i class="ph ph-magnifying-glass"></i>
                            <input type="text" placeholder="Search departments..." id="marketplaceDepartmentSearch" oninput="searchMarketplaceDepartments()">
                        </div>
                        <div class="filter-options" id="marketplaceDepartmentOptions">
                            <label class="filter-option">
                                <input type="checkbox" value="Risk Management" data-filter="marketplace-department" onchange="handleMarketplaceFilterChange(this)">
                                <span>Risk Management</span>
                            </label>
                            <label class="filter-option">
                                <input type="checkbox" value="Finance" data-filter="marketplace-department" onchange="handleMarketplaceFilterChange(this)">
                                <span>Finance</span>
                            </label>
                            <label class="filter-option">
                                <input type="checkbox" value="Marketing" data-filter="marketplace-department" onchange="handleMarketplaceFilterChange(this)">
                                <span>Marketing</span>
                            </label>
                            <label class="filter-option">
                                <input type="checkbox" value="Operations" data-filter="marketplace-department" onchange="handleMarketplaceFilterChange(this)">
                                <span>Operations</span>
                            </label>
                            <label class="filter-option">
                                <input type="checkbox" value="Data Science" data-filter="marketplace-department" onchange="handleMarketplaceFilterChange(this)">
                                <span>Data Science</span>
                            </label>
                            <label class="filter-option">
                                <input type="checkbox" value="Engineering" data-filter="marketplace-department" onchange="handleMarketplaceFilterChange(this)">
                                <span>Engineering</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Category Filter -->
                <div class="filter-container">
                    <button class="filter-btn" id="marketplaceCategoryFilterBtn" onclick="toggleMarketplaceFilterPanel(event, 'marketplaceCategoryFilterPanel')">
                        All Categories
                        <i class="ph ph-caret-down"></i>
                    </button>
                    <div class="filter-panel" id="marketplaceCategoryFilterPanel">
                        <div class="filter-options" id="marketplaceCategoryOptions">
                            <label class="filter-option">
                                <input type="checkbox" value="Fraud Detection" data-filter="marketplace-category" onchange="handleMarketplaceFilterChange(this)">
                                <span>Fraud Detection</span>
                            </label>
                            <label class="filter-option">
                                <input type="checkbox" value="Analytics" data-filter="marketplace-category" onchange="handleMarketplaceFilterChange(this)">
                                <span>Analytics</span>
                            </label>
                            <label class="filter-option">
                                <input type="checkbox" value="Financial Data" data-filter="marketplace-category" onchange="handleMarketplaceFilterChange(this)">
                                <span>Financial Data</span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="search-container">
                    <svg class="search-icon" width="16" height="16" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"/>
                    </svg>
                    <input type="text" class="search-input" placeholder="Search marketplace">
                </div>
            </div>

            <!-- Active Filters for Marketplace -->
            <div class="active-filters-container" id="marketplaceActiveFiltersContainer" style="display: none;">
                <div class="active-filters-header">
                    <span class="active-filters-label">Active Filters Indicator</span>
                </div>
                <div class="active-filters" id="marketplaceActiveFilters"></div>
            </div>

            <!-- Recommendations Section -->
            <div class="recommendations-section">
                <div class="recommendations-header">
                    <h3 class="section-title">Recommended for You</h3>
                    <a href="#" class="view-all-link" id="seeMoreRecommendations" onclick="toggleRecommendations(event)">
                        See more
                    </a>
                </div>
                <div class="recommendations-grid" id="recommendationsGrid">
                    <div class="recommendation-card" onclick="showConsumerProductDetail('fraud-alerts')">
                        <div class="recommendation-badge">Top Pick</div>
                        <div class="product-icon">
                            <i class="ph ph-shield-warning"></i>
                        </div>
                        <div class="recommendation-title">Fraud Detection Alerts</div>
                        <div class="recommendation-dept">Risk Management</div>
                        <div class="recommendation-stats">
                            <span> 4.8</span>
                            <span></span>
                            <span>132 users</span>
                        </div>
                    </div>
                    <div class="recommendation-card" onclick="showConsumerProductDetail('customer-360')">
                        <div class="recommendation-badge trending">Trending</div>
                        <div class="product-icon blue">
                            <i class="ph ph-user-circle"></i>
                        </div>
                        <div class="recommendation-title">Customer 360 View</div>
                        <div class="recommendation-dept">Customer Analytics</div>
                        <div class="recommendation-stats">
                            <span> 4.9</span>
                            <span></span>
                            <span>248 users</span>
                        </div>
                    </div>
                    <div class="recommendation-card" onclick="showConsumerProductDetail('market-data')">
                        <div class="recommendation-badge new">New</div>
                        <div class="product-icon green">
                            <i class="ph ph-trend-up"></i>
                        </div>
                        <div class="recommendation-title">Market Intelligence</div>
                        <div class="recommendation-dept">Investment</div>
                        <div class="recommendation-stats">
                            <span> 4.9</span>
                            <span></span>
                            <span>203 users</span>
                        </div>
                    </div>

                    <!-- Hidden initially -->
                    <div class="recommendation-card hidden-recommendation" onclick="showConsumerProductDetail('transaction-data')">
                        <div class="product-icon">
                            <i class="ph ph-currency-dollar"></i>
                        </div>
                        <div class="recommendation-title">Transaction History</div>
                        <div class="recommendation-dept">Financial Operations</div>
                        <div class="recommendation-stats">
                            <span> 4.6</span>
                            <span></span>
                            <span>89 users</span>
                        </div>
                    </div>
                    <div class="recommendation-card hidden-recommendation" onclick="showConsumerProductDetail('risk-scores')">
                        <div class="product-icon">
                            <i class="ph ph-chart-line"></i>
                        </div>
                        <div class="recommendation-title">Credit Risk Scores</div>
                        <div class="recommendation-dept">Risk Management</div>
                        <div class="recommendation-stats">
                            <span> 4.7</span>
                            <span></span>
                            <span>156 users</span>
                        </div>
                    </div>
                    <div class="recommendation-card hidden-recommendation" onclick="showConsumerProductDetail('loan-portfolio')">
                        <div class="product-icon">
                            <i class="ph ph-house"></i>
                        </div>
                        <div class="recommendation-title">Loan Portfolio Data</div>
                        <div class="recommendation-dept">Lending</div>
                        <div class="recommendation-stats">
                            <span> 4.8</span>
                            <span></span>
                            <span>94 users</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- All Products -->
            <div class="listings-header">
                <h2>All Data Products</h2>
                <span class="listings-count">12</span>
            </div>

            <!-- Product Grid (reusing same tiles) -->
            <div class="product-grid">
                <!-- Same product cards as My Listings but with consumer actions -->
                <div class="product-card marketplace-card">
                    <div class="product-header" onclick="showConsumerProductDetail('fraud-alerts')" style="cursor: pointer;">
                        <div class="product-icon">
                            <i class="ph ph-shield-warning"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">Fraud Detection Alerts</div>
                            <div class="product-meta">
                                <span class="product-owner">Risk Analytics Team</span>
                                <span class="status-badge published">Published</span>
                                <div class="product-rating">
                                    <span class="star"></span>
                                    <span class="rating-value">4.8</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="product-dept" onclick="showConsumerProductDetail('fraud-alerts')" style="cursor: pointer;">Fraud Detection</div>
                    <div class="product-description" onclick="showConsumerProductDetail('fraud-alerts')" style="cursor: pointer;">Real-time fraud detection events with risk scores, flagged transactions, and investigation status.</div>
                    <div class="product-footer">
                        <div class="active-users">
                            <span>Active Users</span>
                            <strong>132</strong>
                        </div>
                        <div class="marketplace-card-actions">
                            <button class="favorite-btn" onclick="toggleFavorite('fraud-alerts', event)" title="Add to favorites">
                                <i class="ph ph-heart"></i>
                            </button>
                            <button class="share-btn" onclick="shareProduct(event)" title="Share">
                                <i class="ph ph-share-network"></i>
                            </button>
                            <button class="add-to-cart-btn" onclick="addToCart('fraud-alerts', event)">
                                <i class="ph ph-shopping-cart"></i>
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-card marketplace-card">
                    <div class="product-header" onclick="showConsumerProductDetail('customer-360')" style="cursor: pointer;">
                        <div class="product-icon">
                            <i class="ph ph-user-circle"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">Customer 360 View</div>
                            <div class="product-meta">
                                <span class="product-owner">Customer Insights</span>
                                <span class="status-badge published">Published</span>
                                <div class="product-rating">
                                    <span class="star"></span>
                                    <span class="rating-value">4.9</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="product-dept" onclick="showConsumerProductDetail('customer-360')" style="cursor: pointer;">Customer Analytics</div>
                    <div class="product-description" onclick="showConsumerProductDetail('customer-360')" style="cursor: pointer;">Comprehensive customer profiles aggregating account activity, demographics, and behavioral patterns.</div>
                    <div class="product-footer">
                        <div class="active-users">
                            <span>Active Users</span>
                            <strong>248</strong>
                        </div>
                        <div class="marketplace-card-actions">
                            <button class="favorite-btn" onclick="toggleFavorite('customer-360', event)" title="Add to favorites">
                                <i class="ph ph-heart"></i>
                            </button>
                            <button class="share-btn" onclick="shareProduct(event)" title="Share">
                                <i class="ph ph-share-network"></i>
                            </button>
                            <button class="add-to-cart-btn" onclick="addToCart('customer-360', event)">
                                <i class="ph ph-shopping-cart"></i>
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-card marketplace-card">
                    <div class="product-header" onclick="showConsumerProductDetail('transaction-data')" style="cursor: pointer;">
                        <div class="product-icon">
                            <i class="ph ph-currency-dollar"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">Transaction History</div>
                            <div class="product-meta">
                                <span class="product-owner">Payments Team</span>
                                <span class="status-badge published">Published</span>
                                <div class="product-rating">
                                    <span class="star"></span>
                                    <span class="rating-value">4.6</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="product-dept" onclick="showConsumerProductDetail('transaction-data')" style="cursor: pointer;">Financial Operations</div>
                    <div class="product-description" onclick="showConsumerProductDetail('transaction-data')" style="cursor: pointer;">Complete transaction records including credits, debits, and pending authorizations across all accounts.</div>
                    <div class="product-footer">
                        <div class="active-users">
                            <span>Active Users</span>
                            <strong>89</strong>
                        </div>
                        <div class="marketplace-card-actions">
                            <button class="favorite-btn" onclick="toggleFavorite('transaction-data', event)" title="Add to favorites">
                                <i class="ph ph-heart"></i>
                            </button>
                            <button class="share-btn" onclick="shareProduct(event)" title="Share">
                                <i class="ph ph-share-network"></i>
                            </button>
                            <button class="add-to-cart-btn" onclick="addToCart('transaction-data', event)">
                                <i class="ph ph-shopping-cart"></i>
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-card marketplace-card">
                    <div class="product-header" onclick="showConsumerProductDetail('risk-scores')" style="cursor: pointer;">
                        <div class="product-icon">
                            <i class="ph ph-chart-line"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">Credit Risk Scores</div>
                            <div class="product-meta">
                                <span class="product-owner">Risk Management</span>
                                <span class="status-badge published">Published</span>
                                <div class="product-rating">
                                    <span class="star"></span>
                                    <span class="rating-value">4.7</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="product-dept" onclick="showConsumerProductDetail('risk-scores')" style="cursor: pointer;">Risk Management</div>
                    <div class="product-description" onclick="showConsumerProductDetail('risk-scores')" style="cursor: pointer;">Credit risk assessments and scoring models for loan underwriting and portfolio management.</div>
                    <div class="product-footer">
                        <div class="active-users">
                            <span>Active Users</span>
                            <strong>156</strong>
                        </div>
                        <div class="marketplace-card-actions">
                            <button class="favorite-btn" onclick="toggleFavorite('risk-scores', event)" title="Add to favorites">
                                <i class="ph ph-heart"></i>
                            </button>
                            <button class="share-btn" onclick="shareProduct(event)" title="Share">
                                <i class="ph ph-share-network"></i>
                            </button>
                            <button class="add-to-cart-btn" onclick="addToCart('risk-scores', event)">
                                <i class="ph ph-shopping-cart"></i>
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-card marketplace-card">
                    <div class="product-header" onclick="showConsumerProductDetail('branch-metrics')" style="cursor: pointer;">
                        <div class="product-icon">
                            <i class="ph ph-building"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">Branch Performance</div>
                            <div class="product-meta">
                                <span class="product-owner">Operations Team</span>
                                <span class="status-badge published">Published</span>
                                <div class="product-rating">
                                    <span class="star"></span>
                                    <span class="rating-value">4.5</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="product-dept" onclick="showConsumerProductDetail('branch-metrics')" style="cursor: pointer;">Operations</div>
                    <div class="product-description" onclick="showConsumerProductDetail('branch-metrics')" style="cursor: pointer;">Branch-level metrics including foot traffic, transaction volumes, and service quality indicators.</div>
                    <div class="product-footer">
                        <div class="active-users">
                            <span>Active Users</span>
                            <strong>67</strong>
                        </div>
                        <div class="marketplace-card-actions">
                            <button class="favorite-btn" onclick="toggleFavorite('branch-metrics', event)" title="Add to favorites">
                                <i class="ph ph-heart"></i>
                            </button>
                            <button class="share-btn" onclick="shareProduct(event)" title="Share">
                                <i class="ph ph-share-network"></i>
                            </button>
                            <button class="add-to-cart-btn" onclick="addToCart('branch-metrics', event)">
                                <i class="ph ph-shopping-cart"></i>
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-card marketplace-card">
                    <div class="product-header" onclick="showConsumerProductDetail('loan-portfolio')" style="cursor: pointer;">
                        <div class="product-icon">
                            <i class="ph ph-house"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">Loan Portfolio Data</div>
                            <div class="product-meta">
                                <span class="product-owner">Lending Services</span>
                                <span class="status-badge published">Published</span>
                                <div class="product-rating">
                                    <span class="star"></span>
                                    <span class="rating-value">4.8</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="product-dept" onclick="showConsumerProductDetail('loan-portfolio')" style="cursor: pointer;">Lending</div>
                    <div class="product-description" onclick="showConsumerProductDetail('loan-portfolio')" style="cursor: pointer;">Mortgage, auto, and personal loan data including terms, balances, and payment history.</div>
                    <div class="product-footer">
                        <div class="active-users">
                            <span>Active Users</span>
                            <strong>94</strong>
                        </div>
                        <div class="marketplace-card-actions">
                            <button class="favorite-btn" onclick="toggleFavorite('loan-portfolio', event)" title="Add to favorites">
                                <i class="ph ph-heart"></i>
                            </button>
                            <button class="share-btn" onclick="shareProduct(event)" title="Share">
                                <i class="ph ph-share-network"></i>
                            </button>
                            <button class="add-to-cart-btn" onclick="addToCart('loan-portfolio', event)">
                                <i class="ph ph-shopping-cart"></i>
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-card marketplace-card">
                    <div class="product-header" onclick="showConsumerProductDetail('market-data')" style="cursor: pointer;">
                        <div class="product-icon">
                            <i class="ph ph-trend-up"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">Market Intelligence</div>
                            <div class="product-meta">
                                <span class="product-owner">Investment Research</span>
                                <span class="status-badge published">Published</span>
                                <div class="product-rating">
                                    <span class="star"></span>
                                    <span class="rating-value">4.9</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="product-dept" onclick="showConsumerProductDetail('market-data')" style="cursor: pointer;">Investment</div>
                    <div class="product-description" onclick="showConsumerProductDetail('market-data')" style="cursor: pointer;">Real-time market data, economic indicators, and investment research for wealth management.</div>
                    <div class="product-footer">
                        <div class="active-users">
                            <span>Active Users</span>
                            <strong>203</strong>
                        </div>
                        <div class="marketplace-card-actions">
                            <button class="favorite-btn" onclick="toggleFavorite('market-data', event)" title="Add to favorites">
                                <i class="ph ph-heart"></i>
                            </button>
                            <button class="share-btn" onclick="shareProduct(event)" title="Share">
                                <i class="ph ph-share-network"></i>
                            </button>
                            <button class="add-to-cart-btn" onclick="addToCart('market-data', event)">
                                <i class="ph ph-shopping-cart"></i>
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-card marketplace-card">
                    <div class="product-header" onclick="showConsumerProductDetail('compliance-reports')" style="cursor: pointer;">
                        <div class="product-icon">
                            <i class="ph ph-file-text"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">Compliance Reports</div>
                            <div class="product-meta">
                                <span class="product-owner">Compliance Team</span>
                                <span class="status-badge published">Published</span>
                                <div class="product-rating">
                                    <span class="star"></span>
                                    <span class="rating-value">4.6</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="product-dept" onclick="showConsumerProductDetail('compliance-reports')" style="cursor: pointer;">Compliance</div>
                    <div class="product-description" onclick="showConsumerProductDetail('compliance-reports')" style="cursor: pointer;">Regulatory compliance data including KYC, AML alerts, and audit trail documentation.</div>
                    <div class="product-footer">
                        <div class="active-users">
                            <span>Active Users</span>
                            <strong>78</strong>
                        </div>
                        <div class="marketplace-card-actions">
                            <button class="favorite-btn" onclick="toggleFavorite('compliance-reports', event)" title="Add to favorites">
                                <i class="ph ph-heart"></i>
                            </button>
                            <button class="share-btn" onclick="shareProduct(event)" title="Share">
                                <i class="ph ph-share-network"></i>
                            </button>
                            <button class="add-to-cart-btn" onclick="addToCart('compliance-reports', event)">
                                <i class="ph ph-shopping-cart"></i>
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-card marketplace-card">
                    <div class="product-header" onclick="showConsumerProductDetail('atm-usage')" style="cursor: pointer;">
                        <div class="product-icon">
                            <i class="ph ph-bank"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">ATM Usage Analytics</div>
                            <div class="product-meta">
                                <span class="product-owner">Channel Analytics</span>
                                <span class="status-badge published">Published</span>
                                <div class="product-rating">
                                    <span class="star"></span>
                                    <span class="rating-value">4.4</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="product-dept" onclick="showConsumerProductDetail('atm-usage')" style="cursor: pointer;">Operations</div>
                    <div class="product-description" onclick="showConsumerProductDetail('atm-usage')" style="cursor: pointer;">ATM transaction data including withdrawals, deposits, location usage patterns, and uptime metrics.</div>
                    <div class="product-footer">
                        <div class="active-users">
                            <span>Active Users</span>
                            <strong>52</strong>
                        </div>
                        <div class="marketplace-card-actions">
                            <button class="favorite-btn" onclick="toggleFavorite('atm-usage', event)" title="Add to favorites">
                                <i class="ph ph-heart"></i>
                            </button>
                            <button class="share-btn" onclick="shareProduct(event)" title="Share">
                                <i class="ph ph-share-network"></i>
                            </button>
                            <button class="add-to-cart-btn" onclick="addToCart('atm-usage', event)">
                                <i class="ph ph-shopping-cart"></i>
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-card marketplace-card">
                    <div class="product-header" onclick="showConsumerProductDetail('mobile-banking')" style="cursor: pointer;">
                        <div class="product-icon">
                            <i class="ph ph-device-mobile"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">Mobile Banking Metrics</div>
                            <div class="product-meta">
                                <span class="product-owner">Digital Team</span>
                                <span class="status-badge published">Published</span>
                                <div class="product-rating">
                                    <span class="star"></span>
                                    <span class="rating-value">4.7</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="product-dept" onclick="showConsumerProductDetail('mobile-banking')" style="cursor: pointer;">Digital Banking</div>
                    <div class="product-description" onclick="showConsumerProductDetail('mobile-banking')" style="cursor: pointer;">Mobile app usage statistics, feature adoption rates, and user engagement analytics.</div>
                    <div class="product-footer">
                        <div class="active-users">
                            <span>Active Users</span>
                            <strong>187</strong>
                        </div>
                        <div class="marketplace-card-actions">
                            <button class="favorite-btn" onclick="toggleFavorite('mobile-banking', event)" title="Add to favorites">
                                <i class="ph ph-heart"></i>
                            </button>
                            <button class="share-btn" onclick="shareProduct(event)" title="Share">
                                <i class="ph ph-share-network"></i>
                            </button>
                            <button class="add-to-cart-btn" onclick="addToCart('mobile-banking', event)">
                                <i class="ph ph-shopping-cart"></i>
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-card marketplace-card">
                    <div class="product-header" onclick="showConsumerProductDetail('wire-transfers')" style="cursor: pointer;">
                        <div class="product-icon">
                            <i class="ph ph-paper-plane-tilt"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">Wire Transfer Data</div>
                            <div class="product-meta">
                                <span class="product-owner">Treasury Team</span>
                                <span class="status-badge published">Published</span>
                                <div class="product-rating">
                                    <span class="star"></span>
                                    <span class="rating-value">4.6</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="product-dept" onclick="showConsumerProductDetail('wire-transfers')" style="cursor: pointer;">Treasury</div>
                    <div class="product-description" onclick="showConsumerProductDetail('wire-transfers')" style="cursor: pointer;">Domestic and international wire transfer records including beneficiary data and compliance checks.</div>
                    <div class="product-footer">
                        <div class="active-users">
                            <span>Active Users</span>
                            <strong>61</strong>
                        </div>
                        <div class="marketplace-card-actions">
                            <button class="favorite-btn" onclick="toggleFavorite('wire-transfers', event)" title="Add to favorites">
                                <i class="ph ph-heart"></i>
                            </button>
                            <button class="share-btn" onclick="shareProduct(event)" title="Share">
                                <i class="ph ph-share-network"></i>
                            </button>
                            <button class="add-to-cart-btn" onclick="addToCart('wire-transfers', event)">
                                <i class="ph ph-shopping-cart"></i>
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>

                <div class="product-card marketplace-card">
                    <div class="product-header" onclick="showConsumerProductDetail('merchant-analytics')" style="cursor: pointer;">
                        <div class="product-icon">
                            <i class="ph ph-storefront"></i>
                        </div>
                        <div class="product-info">
                            <div class="product-title">Merchant Analytics</div>
                            <div class="product-meta">
                                <span class="product-owner">Merchant Services</span>
                                <span class="status-badge published">Published</span>
                                <div class="product-rating">
                                    <span class="star"></span>
                                    <span class="rating-value">4.8</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="product-dept" onclick="showConsumerProductDetail('merchant-analytics')" style="cursor: pointer;">Merchant Services</div>
                    <div class="product-description" onclick="showConsumerProductDetail('merchant-analytics')" style="cursor: pointer;">Merchant transaction data, processing volumes, and business intelligence for commercial clients.</div>
                    <div class="product-footer">
                        <div class="active-users">
                            <span>Active Users</span>
                            <strong>143</strong>
                        </div>
                        <div class="marketplace-card-actions">
                            <button class="favorite-btn" onclick="toggleFavorite('merchant-analytics', event)" title="Add to favorites">
                                <i class="ph ph-heart"></i>
                            </button>
                            <button class="share-btn" onclick="shareProduct(event)" title="Share">
                                <i class="ph ph-share-network"></i>
                            </button>
                            <button class="add-to-cart-btn" onclick="addToCart('merchant-analytics', event)">
                                <i class="ph ph-shopping-cart"></i>
                                Add to Cart
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Consumer Product Detail View -->
    <div id="consumerProductDetail" class="consumer-product-detail" style="display: none;">
        <!-- Similar to producer detail but with consumer actions -->
        <nav class="breadcrumb">
            <a onclick="showMarketplace()">Marketplace</a>
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-current">Product Detail</span>
        </nav>

        <!-- Detail Header with Consumer Actions -->
        <section class="detail-header">
            <div class="detail-title-section">
                <div class="detail-left">
                    <div class="detail-icon">
                        <i class="ph ph-brackets-curly"></i>
                    </div>
                    <div class="detail-title-info">
                        <h1>Fraud Detection Alerts</h1>
                        <div class="detail-meta">
                            <div class="detail-rating">
                                <span class="star"></span>
                                <span class="detail-rating-value">4.8</span>
                                <span class="detail-rating-count">(24 reviews)</span>
                            </div>
                            <span class="info-value">JSON</span>
                        </div>
                    </div>
                </div>

                <div class="consumer-actions">
                    <button class="favorite-btn" onclick="toggleFavorite('fraud-alerts', event)" title="Add to favorites">
                        <i class="ph ph-heart"></i>
                    </button>
                    <div class="available-in-dropdown">
                        <button class="available-in-btn" onclick="toggleAvailableInDropdown()">
                            Available in Domo
                            <i class="ph ph-caret-down"></i>
                        </button>
                        <div class="available-in-menu">
                            <div class="available-in-option selected" onclick="selectAvailableIn('Domo')">
                                <i class="ph ph-check-circle" style="color: #10B981;"></i>
                                Domo
                            </div>
                            <div class="available-in-option" onclick="selectAvailableIn('PowerBI')">
                                <i class="ph ph-check-circle" style="color: #10B981;"></i>
                                PowerBI
                            </div>
                            <div class="available-in-option" onclick="selectAvailableIn('Tableau')">
                                <i class="ph ph-check-circle" style="color: #10B981;"></i>
                                Tableau
                            </div>
                        </div>
                    </div>
                    <button class="add-to-cart-btn" onclick="shareProduct()" style="background: white; border: 1px solid #D1D5DB; color: #374151;">
                        <i class="ph ph-share-network"></i>
                        Share
                    </button>
                    <button class="add-to-cart-btn" onclick="addToCart('fraud-alerts')">
                        <i class="ph ph-shopping-cart"></i>
                        Add to Cart
                    </button>
                </div>
            </div>

            <p class="detail-description">
                Real-time fraud detection events with comprehensive risk scores, flagged transactions, and investigation status tracking. This dataset provides critical insights for risk management teams.
            </p>
        </section>

        <!-- Sample Dataset -->
        <section style="padding: 32px 40px; background: white; border-bottom: 1px solid #E5E7EB;">
            <h3 class="detail-section-title">
                <i class="ph ph-table"></i>
                Sample Dataset
            </h3>
            <div class="dataset-sample">
                <table class="dataset-table">
                    <thead>
                        <tr>
                            <th>Transaction ID</th>
                            <th>Timestamp</th>
                            <th>Amount</th>
                            <th>Risk Score</th>
                            <th>Status</th>
                            <th>Customer ID</th>
                            <th>Location</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>TXN-2847291</td>
                            <td>2026-01-23 14:32:15</td>
                            <td>$1,245.00</td>
                            <td>0.87</td>
                            <td>FLAGGED</td>
                            <td>CUST-9382</td>
                            <td>New York, NY</td>
                        </tr>
                        <tr>
                            <td>TXN-2847292</td>
                            <td>2026-01-23 14:33:42</td>
                            <td>$89.99</td>
                            <td>0.12</td>
                            <td>APPROVED</td>
                            <td>CUST-7651</td>
                            <td>Los Angeles, CA</td>
                        </tr>
                        <tr>
                            <td>TXN-2847293</td>
                            <td>2026-01-23 14:35:08</td>
                            <td>$4,567.50</td>
                            <td>0.94</td>
                            <td>UNDER REVIEW</td>
                            <td>CUST-3421</td>
                            <td>Chicago, IL</td>
                        </tr>
                        <tr>
                            <td>TXN-2847294</td>
                            <td>2026-01-23 14:36:21</td>
                            <td>$234.75</td>
                            <td>0.23</td>
                            <td>APPROVED</td>
                            <td>CUST-1192</td>
                            <td>Houston, TX</td>
                        </tr>
                        <tr>
                            <td>TXN-2847295</td>
                            <td>2026-01-23 14:37:54</td>
                            <td>$8,920.00</td>
                            <td>0.76</td>
                            <td>FLAGGED</td>
                            <td>CUST-5543</td>
                            <td>Phoenix, AZ</td>
                        </tr>
                        <tr>
                            <td>TXN-2847296</td>
                            <td>2026-01-23 14:39:12</td>
                            <td>$156.30</td>
                            <td>0.08</td>
                            <td>APPROVED</td>
                            <td>CUST-8821</td>
                            <td>Philadelphia, PA</td>
                        </tr>
                        <tr>
                            <td>TXN-2847297</td>
                            <td>2026-01-23 14:40:45</td>
                            <td>$2,345.67</td>
                            <td>0.65</td>
                            <td>UNDER REVIEW</td>
                            <td>CUST-2234</td>
                            <td>San Antonio, TX</td>
                        </tr>
                        <tr>
                            <td>TXN-2847298</td>
                            <td>2026-01-23 14:42:18</td>
                            <td>$445.20</td>
                            <td>0.31</td>
                            <td>APPROVED</td>
                            <td>CUST-6677</td>
                            <td>San Diego, CA</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Data Structure -->
        <section style="padding: 32px 40px; background: white; border-bottom: 1px solid #E5E7EB;">
            <h3 class="detail-section-title">
                <i class="ph ph-database"></i>
                Data Structure
            </h3>
            <div class="data-structure-json">
                <pre><code>{
  <span class="json-key">"dataset_id"</span>: <span class="json-string">"ds-003"</span>,
  <span class="json-key">"name"</span>: <span class="json-string">"Fraud Detection Alerts"</span>,
  <span class="json-key">"category"</span>: <span class="json-string">"Fraud Detection"</span>,
  <span class="json-key">"total_records"</span>: <span class="json-number">18234</span>,
  <span class="json-key">"fields"</span>: [
    { <span class="json-key">"name"</span>: <span class="json-string">"id"</span>, <span class="json-key">"type"</span>: <span class="json-string">"string"</span>, <span class="json-key">"indexed"</span>: <span class="json-boolean">true</span> },
    { <span class="json-key">"name"</span>: <span class="json-string">"timestamp"</span>, <span class="json-key">"type"</span>: <span class="json-string">"datetime"</span>, <span class="json-key">"indexed"</span>: <span class="json-boolean">true</span> },
    { <span class="json-key">"name"</span>: <span class="json-string">"amount"</span>, <span class="json-key">"type"</span>: <span class="json-string">"decimal"</span>, <span class="json-key">"precision"</span>: <span class="json-number">2</span> },
    { <span class="json-key">"name"</span>: <span class="json-string">"status"</span>, <span class="json-key">"type"</span>: <span class="json-string">"string"</span>, <span class="json-key">"enum"</span>: [<span class="json-string">"pending"</span>, <span class="json-string">"completed"</span>, <span class="json-string">"failed"</span>] },
    { <span class="json-key">"name"</span>: <span class="json-string">"metadata"</span>, <span class="json-key">"type"</span>: <span class="json-string">"json"</span> }
  ],
  <span class="json-key">"update_frequency"</span>: <span class="json-string">"Real-time"</span>,
  <span class="json-key">"last_updated"</span>: <span class="json-string">"30 mins ago"</span>
}</code></pre>
            </div>
        </section>

        <!-- Product Information -->
        <section style="padding: 32px 40px; background: white; border-bottom: 1px solid #E5E7EB;">
            <h3 class="detail-section-title">
                <i class="ph ph-info"></i>
                Product Information
            </h3>
            <div class="info-grid">
                <div class="info-item">
                    <span class="info-label">Approved Date</span>
                    <span class="info-value">January 15, 2026</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Publish Date</span>
                    <span class="info-value">January 22, 2026</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Domain</span>
                    <span class="info-value">Risk Management</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Sub-domain</span>
                    <span class="info-value">Fraud Detection</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Role</span>
                    <span class="info-value">Data Product Owner</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Entitlement</span>
                    <span class="info-value">Confidential - Restricted Access</span>
                </div>
            </div>
        </section>

        <!-- Approved Consumers -->
        <section style="padding: 32px 40px; background: white; border-bottom: 1px solid #E5E7EB;">
            <h3 class="detail-section-title">
                <i class="ph ph-user-check"></i>
                Approved Consumers
            </h3>
            <div class="info-grid">
                <div class="info-item">
                    <span class="info-label">Total Consumers</span>
                    <span class="info-value">132 Active Users</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Primary Team</span>
                    <span class="info-value">Risk Operations</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Secondary Teams</span>
                    <span class="info-value">Compliance, Analytics, Security</span>
                </div>
            </div>
        </section>

        <!-- Governance -->
        <section style="padding: 32px 40px; background: white; border-bottom: 1px solid #E5E7EB;">
            <h3 class="detail-section-title">
                <i class="ph ph-shield-check"></i>
                Governance
            </h3>
            <div class="governance-grid">
                <div class="governance-card">
                    <h4><i class="ph ph-book-open"></i> Catalog</h4>
                    <ul>
                        <li><i class="ph-fill ph-check-circle"></i> Registered in Enterprise Catalog</li>
                        <li><i class="ph-fill ph-check-circle"></i> Metadata Complete</li>
                        <li><i class="ph-fill ph-check-circle"></i> Ownership Defined</li>
                        <li><i class="ph-fill ph-check-circle"></i> SLA Documented</li>
                    </ul>
                </div>
                <div class="governance-card">
                    <h4><i class="ph ph-git-branch"></i> Lineage</h4>
                    <ul>
                        <li><i class="ph-fill ph-check-circle"></i> Source Systems Tracked</li>
                        <li><i class="ph-fill ph-check-circle"></i> Transformation Rules</li>
                        <li><i class="ph-fill ph-check-circle"></i> Dependency Mapping</li>
                        <li><i class="ph-fill ph-check-circle"></i> Impact Analysis Available</li>
                    </ul>
                </div>
                <div class="governance-card">
                    <h4><i class="ph ph-check-square"></i> Data Quality</h4>
                    <ul>
                        <li><i class="ph-fill ph-check-circle"></i> Quality Score: 98%</li>
                        <li><i class="ph-fill ph-check-circle"></i> Completeness: 99.2%</li>
                        <li><i class="ph-fill ph-check-circle"></i> Accuracy: 97.8%</li>
                        <li><i class="ph-fill ph-check-circle"></i> Timeliness: Real-time</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Reviews & Comments -->
        <section style="padding: 32px 40px; background: white;">
            <h3 class="detail-section-title">
                <i class="ph ph-chat-centered-text"></i>
                Reviews & Comments
            </h3>
            <div class="comments-section">
                <div class="comment">
                    <div class="comment-avatar"></div>
                    <div class="comment-content">
                        <div class="comment-header">
                            <span class="comment-author">Sarah Mitchell</span>
                            <span class="comment-date">2 days ago</span>
                        </div>
                        <div class="comment-text">
                            This dataset has been invaluable for our fraud detection initiatives. The real-time updates and high accuracy rate have helped us identify suspicious patterns much faster than before. Highly recommended!
                        </div>
                    </div>
                </div>
                <div class="comment">
                    <div class="comment-avatar" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);"></div>
                    <div class="comment-content">
                        <div class="comment-header">
                            <span class="comment-author">David Chen</span>
                            <span class="comment-date">5 days ago</span>
                        </div>
                        <div class="comment-text">
                            The data quality is exceptional. We've integrated this into our risk scoring model and seen a significant reduction in false positives. The documentation is also very thorough.
                        </div>
                    </div>
                </div>
                <div class="comment">
                    <div class="comment-avatar" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);"></div>
                    <div class="comment-content">
                        <div class="comment-header">
                            <span class="comment-author">Emily Rodriguez</span>
                            <span class="comment-date">1 week ago</span>
                        </div>
                        <div class="comment-text">
                            Perfect for compliance reporting. The data lineage feature is particularly helpful for audit trails. Our team has saved countless hours with this product.
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Cart View -->
    <div id="cartView" class="cart-view" style="display: none;">
        <nav class="breadcrumb">
            <a onclick="showMarketplace()">Marketplace</a>
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-current">Shopping Cart</span>
        </nav>

        <div class="cart-header">
            <h1>Shopping Cart</h1>
            <button class="continue-shopping-btn" onclick="hideCart()">
                <i class="ph ph-arrow-left"></i>
                Continue Shopping
            </button>
        </div>

        <div class="cart-content">
            <div class="cart-items" id="cartItemsList">
                <div class="empty-cart" id="emptyCartMessage">
                    <i class="ph ph-shopping-cart-simple"></i>
                    <h3>Your cart is empty</h3>
                    <p>Add data products from the marketplace to get started</p>
                    <button class="btn-primary" onclick="showMarketplace()">Browse Marketplace</button>
                </div>
            </div>

            <div class="cart-summary">
                <h3>Order Summary</h3>
                <div class="summary-row">
                    <span>Total Items:</span>
                    <span id="cartTotalItems">0</span>
                </div>
                <button class="btn-primary btn-full" onclick="showCheckout()" id="proceedToCheckoutBtn" disabled>
                    Proceed to Checkout
                    <i class="ph ph-arrow-right"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Checkout View -->
    <div id="checkoutView" class="checkout-view" style="display: none;">
        <nav class="breadcrumb">
            <a onclick="showMarketplace()">Marketplace</a>
            <span class="breadcrumb-separator">/</span>
            <a onclick="showCart()">Shopping Cart</a>
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-current">Checkout</span>
        </nav>

        <div class="checkout-header">
            <h1>Checkout</h1>
        </div>

        <div class="checkout-content">
            <div class="checkout-main">
                <div class="checkout-section">
                    <h2>Select Delivery Destination</h2>
                    <div class="delivery-options">
                        <div class="delivery-option selected" onclick="selectDeliveryOption('domo')">
                            <input type="radio" name="delivery" value="domo" checked>
                            <div class="delivery-option-content">
                                <div class="delivery-option-label">
                                    <i class="ph ph-database"></i>
                                    Domo
                                </div>
                                <div class="delivery-option-desc">Connect directly to your Domo workspace</div>
                            </div>
                        </div>
                        <div class="delivery-option" onclick="selectDeliveryOption('powerbi')">
                            <input type="radio" name="delivery" value="powerbi">
                            <div class="delivery-option-content">
                                <div class="delivery-option-label">
                                    <i class="ph ph-chart-bar"></i>
                                    PowerBI
                                </div>
                                <div class="delivery-option-desc">Integrate with Microsoft PowerBI</div>
                            </div>
                        </div>
                        <div class="delivery-option" onclick="selectDeliveryOption('tableau')">
                            <input type="radio" name="delivery" value="tableau">
                            <div class="delivery-option-content">
                                <div class="delivery-option-label">
                                    <i class="ph ph-chart-line"></i>
                                    Tableau
                                </div>
                                <div class="delivery-option-desc">Connect to Tableau Desktop or Server</div>
                            </div>
                        </div>
                        <div class="delivery-option" onclick="selectDeliveryOption('email')">
                            <input type="radio" name="delivery" value="email">
                            <div class="delivery-option-content">
                                <div class="delivery-option-label">
                                    <i class="ph ph-envelope"></i>
                                    Email
                                </div>
                                <div class="delivery-option-desc">Receive data via email attachment</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="checkout-section">
                    <h2>Order Items</h2>
                    <div class="order-items"></div>
                </div>
            </div>

            <div class="cart-summary">
                <div class="cart-summary-card">
                    <h3>Order Summary</h3>
                    <div class="summary-row">
                        <span class="summary-label">Total Items</span>
                        <span class="summary-value">0</span>
                    </div>
                    <button class="submit-order-btn" onclick="submitOrder()">
                        Submit Request
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Detail View -->
    <div id="detailView" class="detail-view">
        <!-- Breadcrumb -->
        <nav class="breadcrumb">
            <a id="backToListings">My Listings</a>
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-current" id="breadcrumbTitle">Product Detail</span>
        </nav>

        <!-- Detail Header -->
        <section class="detail-header">
            <div class="detail-title-section">
                <div class="detail-left">
                    <div class="detail-icon" id="detailIcon">
                        <i class="ph ph-brackets-curly"></i>
                    </div>
                    <div class="detail-title-info">
                        <h1 id="detailTitle">Title of Data Product</h1>
                        <div class="detail-meta">
                            <div class="detail-rating">
                                <span class="star"></span>
                                <span class="detail-rating-value" id="detailRating">4.8</span>
                                <span class="detail-rating-count">(24 reviews)</span>
                            </div>
                            <span class="detail-badge published">Published</span>
                            <span class="info-value" id="detailType">JSON</span>
                        </div>
                    </div>
                </div>

                <div class="detail-center">
                    <!-- Access Information -->
                    <div class="access-info">
                        <span class="access-label">Active Users with Access</span>
                        <div class="access-avatars">
                            <div class="avatar-stack">
                                <div class="avatar-stack-item">JD</div>
                                <div class="avatar-stack-item" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">MS</div>
                                <div class="avatar-stack-item" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">AJ</div>
                                <div class="avatar-stack-item" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">RW</div>
                                <div class="avatar-stack-item avatar-more">+128</div>
                            </div>
                            <span style="font-size: 14px; font-weight: 600; color: #1A1A1A;">132 Users</span>
                        </div>
                    </div>
                </div>

                <div class="detail-right">
                    <!-- Action Buttons -->
                    <div class="detail-actions">
                        <button class="action-btn">
                            <i class="ph ph-pencil-simple"></i>
                            Edit
                        </button>
                        <button class="action-btn">
                            <i class="ph ph-copy"></i>
                            Clone
                        </button>
                        <button class="action-btn primary">
                            <i class="ph ph-share-network"></i>
                            Share
                        </button>
                    </div>
                </div>
            </div>

            <p class="detail-description" id="detailDescription">
                Real-time fraud detection events with risk scores, flagged transactions, and investigation status.
            </p>

            <!-- KPIs -->
            <div class="detail-kpis">
                <div class="detail-kpi-card">
                    <div class="detail-kpi-label">Total Views</div>
                    <div class="detail-kpi-value">2,847</div>
                </div>
                <div class="detail-kpi-card">
                    <div class="detail-kpi-label">Browsed</div>
                    <div class="detail-kpi-value">1,234</div>
                </div>
                <div class="detail-kpi-card">
                    <div class="detail-kpi-label">Access Requests</div>
                    <div class="detail-kpi-value">456</div>
                </div>
                <div class="detail-kpi-card">
                    <div class="detail-kpi-label">Active Users</div>
                    <div class="detail-kpi-value">132</div>
                </div>
                <div class="detail-kpi-card">
                    <div class="detail-kpi-label">Downloads</div>
                    <div class="detail-kpi-value">789</div>
                </div>
            </div>
        </section>

        <!-- Dataset Sample - Moved up -->
        <section style="padding: 32px 40px; background: white; border-bottom: 1px solid #E5E7EB;">
            <h3 class="detail-section-title">
                <i class="ph ph-table"></i>
                Sample Dataset
            </h3>
            <div class="dataset-sample">
                <table class="dataset-table">
                    <thead>
                        <tr>
                            <th>Transaction ID</th>
                            <th>Timestamp</th>
                            <th>Amount</th>
                            <th>Risk Score</th>
                            <th>Status</th>
                            <th>Customer ID</th>
                            <th>Location</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>TXN-2847291</td>
                            <td>2026-01-23 14:32:15</td>
                            <td>$1,245.00</td>
                            <td>0.87</td>
                            <td>FLAGGED</td>
                            <td>CUST-9382</td>
                            <td>New York, NY</td>
                        </tr>
                        <tr>
                            <td>TXN-2847292</td>
                            <td>2026-01-23 14:33:42</td>
                            <td>$89.99</td>
                            <td>0.12</td>
                            <td>APPROVED</td>
                            <td>CUST-7651</td>
                            <td>Los Angeles, CA</td>
                        </tr>
                        <tr>
                            <td>TXN-2847293</td>
                            <td>2026-01-23 14:35:08</td>
                            <td>$4,567.50</td>
                            <td>0.94</td>
                            <td>UNDER REVIEW</td>
                            <td>CUST-3421</td>
                            <td>Chicago, IL</td>
                        </tr>
                        <tr>
                            <td>TXN-2847294</td>
                            <td>2026-01-23 14:36:21</td>
                            <td>$234.75</td>
                            <td>0.23</td>
                            <td>APPROVED</td>
                            <td>CUST-1192</td>
                            <td>Houston, TX</td>
                        </tr>
                        <tr>
                            <td>TXN-2847295</td>
                            <td>2026-01-23 14:37:54</td>
                            <td>$8,920.00</td>
                            <td>0.76</td>
                            <td>FLAGGED</td>
                            <td>CUST-5543</td>
                            <td>Phoenix, AZ</td>
                        </tr>
                        <tr>
                            <td>TXN-2847296</td>
                            <td>2026-01-23 14:39:12</td>
                            <td>$156.30</td>
                            <td>0.08</td>
                            <td>APPROVED</td>
                            <td>CUST-8821</td>
                            <td>Philadelphia, PA</td>
                        </tr>
                        <tr>
                            <td>TXN-2847297</td>
                            <td>2026-01-23 14:40:45</td>
                            <td>$2,345.67</td>
                            <td>0.65</td>
                            <td>UNDER REVIEW</td>
                            <td>CUST-2234</td>
                            <td>San Antonio, TX</td>
                        </tr>
                        <tr>
                            <td>TXN-2847298</td>
                            <td>2026-01-23 14:42:18</td>
                            <td>$445.20</td>
                            <td>0.31</td>
                            <td>APPROVED</td>
                            <td>CUST-6677</td>
                            <td>San Diego, CA</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Data Structure -->
        <section style="padding: 32px 40px; background: white; border-bottom: 1px solid #E5E7EB;">
            <h3 class="detail-section-title">
                <i class="ph ph-database"></i>
                Data Structure
            </h3>
            <div class="data-structure-json">
                <pre><code>{
  <span class="json-key">"dataset_id"</span>: <span class="json-string">"ds-003"</span>,
  <span class="json-key">"name"</span>: <span class="json-string">"Fraud Detection Alerts"</span>,
  <span class="json-key">"category"</span>: <span class="json-string">"Fraud Detection"</span>,
  <span class="json-key">"total_records"</span>: <span class="json-number">18234</span>,
  <span class="json-key">"fields"</span>: [
    { <span class="json-key">"name"</span>: <span class="json-string">"id"</span>, <span class="json-key">"type"</span>: <span class="json-string">"string"</span>, <span class="json-key">"indexed"</span>: <span class="json-boolean">true</span> },
    { <span class="json-key">"name"</span>: <span class="json-string">"timestamp"</span>, <span class="json-key">"type"</span>: <span class="json-string">"datetime"</span>, <span class="json-key">"indexed"</span>: <span class="json-boolean">true</span> },
    { <span class="json-key">"name"</span>: <span class="json-string">"amount"</span>, <span class="json-key">"type"</span>: <span class="json-string">"decimal"</span>, <span class="json-key">"precision"</span>: <span class="json-number">2</span> },
    { <span class="json-key">"name"</span>: <span class="json-string">"status"</span>, <span class="json-key">"type"</span>: <span class="json-string">"string"</span>, <span class="json-key">"enum"</span>: [<span class="json-string">"pending"</span>, <span class="json-string">"completed"</span>, <span class="json-string">"failed"</span>] },
    { <span class="json-key">"name"</span>: <span class="json-string">"metadata"</span>, <span class="json-key">"type"</span>: <span class="json-string">"json"</span> }
  ],
  <span class="json-key">"update_frequency"</span>: <span class="json-string">"Real-time"</span>,
  <span class="json-key">"last_updated"</span>: <span class="json-string">"30 mins ago"</span>
}</code></pre>
            </div>
        </section>

        <!-- Detail Content -->
        <div class="detail-content">
            <!-- Product Information -->
            <section class="detail-section">
                <h3 class="detail-section-title">
                    <i class="ph ph-info"></i>
                    Product Information
                </h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">Approved Date</span>
                        <span class="info-value">January 15, 2026</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Publish Date</span>
                        <span class="info-value">January 22, 2026</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Domain</span>
                        <span class="info-value">Risk Management</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Sub-domain</span>
                        <span class="info-value">Fraud Detection</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Role</span>
                        <span class="info-value">Data Product Owner</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Entitlement</span>
                        <span class="info-value">Confidential - Restricted Access</span>
                    </div>
                </div>
            </section>

            <!-- Value Proposition -->
            <section class="detail-section">
                <h3 class="detail-section-title">
                    <i class="ph ph-lightbulb"></i>
                    Value Proposition
                </h3>
                <div class="value-prop">
                    <p>
                        This data product provides real-time insights into fraudulent activities across all transaction channels.
                        By leveraging advanced machine learning algorithms and historical patterns, it enables rapid identification
                        of suspicious transactions with 95% accuracy. Teams using this dataset have reduced fraud losses by 42%
                        and decreased false positive rates by 38%, resulting in improved customer experience and significant cost savings.
                    </p>
                </div>
            </section>

            <!-- Consumers -->
            <section class="detail-section">
                <h3 class="detail-section-title">
                    <i class="ph ph-user-check"></i>
                    Approved Consumers
                </h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="info-label">Total Consumers</span>
                        <span class="info-value">132 Active Users</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Primary Team</span>
                        <span class="info-value">Risk Operations</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Secondary Teams</span>
                        <span class="info-value">Compliance, Analytics, Security</span>
                    </div>
                </div>
            </section>

            <!-- Governance -->
            <section class="detail-section">
                <h3 class="detail-section-title">
                    <i class="ph ph-shield-check"></i>
                    Governance
                </h3>
                <div class="governance-grid">
                    <div class="governance-card">
                        <h4><i class="ph ph-book-open"></i> Catalog</h4>
                        <ul>
                            <li><i class="ph-fill ph-check-circle"></i> Registered in Enterprise Catalog</li>
                            <li><i class="ph-fill ph-check-circle"></i> Metadata Complete</li>
                            <li><i class="ph-fill ph-check-circle"></i> Ownership Defined</li>
                            <li><i class="ph-fill ph-check-circle"></i> SLA Documented</li>
                        </ul>
                    </div>
                    <div class="governance-card">
                        <h4><i class="ph ph-git-branch"></i> Lineage</h4>
                        <ul>
                            <li><i class="ph-fill ph-check-circle"></i> Source Systems Tracked</li>
                            <li><i class="ph-fill ph-check-circle"></i> Transformation Rules</li>
                            <li><i class="ph-fill ph-check-circle"></i> Dependency Mapping</li>
                            <li><i class="ph-fill ph-check-circle"></i> Impact Analysis Available</li>
                        </ul>
                    </div>
                    <div class="governance-card">
                        <h4><i class="ph ph-check-square"></i> Data Quality</h4>
                        <ul>
                            <li><i class="ph-fill ph-check-circle"></i> Quality Score: 98%</li>
                            <li><i class="ph-fill ph-check-circle"></i> Completeness: 99.2%</li>
                            <li><i class="ph-fill ph-check-circle"></i> Accuracy: 97.8%</li>
                            <li><i class="ph-fill ph-check-circle"></i> Timeliness: Real-time</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Reviews & Comments -->
            <section class="detail-section">
                <h3 class="detail-section-title">
                    <i class="ph ph-chat-centered-text"></i>
                    Reviews & Comments
                </h3>
                <div class="comments-section">
                    <div class="comment">
                        <div class="comment-avatar"></div>
                        <div class="comment-content">
                            <div class="comment-header">
                                <span class="comment-author">Sarah Mitchell</span>
                                <span class="comment-date">2 days ago</span>
                            </div>
                            <div class="comment-text">
                                This dataset has been invaluable for our fraud detection initiatives. The real-time updates and high accuracy rate have helped us identify suspicious patterns much faster than before. Highly recommended!
                            </div>
                        </div>
                    </div>
                    <div class="comment">
                        <div class="comment-avatar" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);"></div>
                        <div class="comment-content">
                            <div class="comment-header">
                                <span class="comment-author">David Chen</span>
                                <span class="comment-date">5 days ago</span>
                            </div>
                            <div class="comment-text">
                                The data quality is exceptional. We've integrated this into our risk scoring model and seen a significant reduction in false positives. The documentation is also very thorough.
                            </div>
                        </div>
                    </div>
                    <div class="comment">
                        <div class="comment-avatar" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);"></div>
                        <div class="comment-content">
                            <div class="comment-header">
                                <span class="comment-author">Emily Rodriguez</span>
                                <span class="comment-date">1 week ago</span>
                            </div>
                            <div class="comment-text">
                                Great product! The lineage tracking and governance controls give us confidence in using this data for regulatory reporting. Would love to see more historical data added.
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <button class="back-btn" onclick="hideDetailView()">
                <i class="ph ph-arrow-left"></i>
                Back to All Listings
            </button>
        </div>
    </div>

    <!-- Drafts View -->
    <div id="draftsView" class="drafts-view">
        <!-- Breadcrumb -->
        <nav class="breadcrumb">
            <a id="backToListingsFromDrafts" onclick="hideDraftsView()">My Listings</a>
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-current">Drafts</span>
        </nav>

        <div class="drafts-header">
            <h1>Draft Listings</h1>
            <p>Continue working on your saved drafts</p>
        </div>

        <div class="drafts-content" id="draftsContent">
            <!-- Drafts will be dynamically populated here -->
        </div>
    </div>

    <!-- Create Form View -->
    <div id="createFormView" class="create-form-view">
        <!-- Breadcrumb -->
        <nav class="breadcrumb">
            <a id="backToListingsFromCreate">My Listings</a>
            <span class="breadcrumb-separator">/</span>
            <span class="breadcrumb-current">Create New Listing</span>
        </nav>

        <!-- Progress Indicator -->
        <div class="progress-indicator">
            <div class="progress-bar">
                <div class="progress-step active" id="progressStep1">
                    <div class="progress-step-number">1</div>
                    <div class="progress-step-content">
                        <div class="progress-step-label">General Information</div>
                        <div class="progress-step-description">Basic product details</div>
                    </div>
                    <div class="progress-step-connector"></div>
                </div>
                <div class="progress-step" id="progressStep2">
                    <div class="progress-step-number">2</div>
                    <div class="progress-step-content">
                        <div class="progress-step-label">Data Source & Connection</div>
                        <div class="progress-step-description">Connect your data platform</div>
                    </div>
                    <div class="progress-step-connector"></div>
                </div>
                <div class="progress-step" id="progressStep3">
                    <div class="progress-step-number">3</div>
                    <div class="progress-step-content">
                        <div class="progress-step-label">Entitlements & Access</div>
                        <div class="progress-step-description">Set visibility and permissions</div>
                    </div>
                    <div class="progress-step-connector"></div>
                </div>
            </div>
        </div>

        <!-- Form Header -->
        <div class="form-header">
            <h1>Create New Data Product Listing</h1>
            <p id="stepIndicator">Step 1 of 3: General Information</p>
        </div>

        <!-- Form Content -->
        <div class="form-content" id="formContent">
            <!-- Step 1: General Information -->
            <div id="step1" class="form-step">
                <div class="form-section">
                    <h2 class="form-section-title">
                        <i class="ph ph-info"></i>
                        General Information
                    </h2>

                <div class="form-grid">
                    <!-- Data Product Name -->
                    <div class="form-field full-width">
                        <label class="form-label">
                            Data Product Name
                            <span class="required">*</span>
                        </label>
                        <input
                            type="text"
                            class="form-input"
                            placeholder="Enter a descriptive name for your data product"
                            id="productName"
                        />
                        <span class="form-helper">Choose a clear, descriptive name that reflects the data product's purpose</span>
                    </div>

                    <!-- Data Product Owner -->
                    <div class="form-field">
                        <label class="form-label">
                            Data Product Owner
                            <span class="required">*</span>
                        </label>
                        <input
                            type="text"
                            class="form-input"
                            placeholder="Enter owner name or email"
                            id="productOwner"
                        />
                        <span class="form-helper">Person responsible for this data product</span>
                    </div>

                    <!-- Domain -->
                    <div class="form-field">
                        <label class="form-label">
                            Domain
                            <span class="required">*</span>
                        </label>
                        <select class="form-select" id="productDomain">
                            <option value="">Select domain</option>
                            <option value="risk-management">Risk Management</option>
                            <option value="customer-analytics">Customer Analytics</option>
                            <option value="finance">Finance</option>
                            <option value="operations">Operations</option>
                            <option value="compliance">Compliance</option>
                            <option value="marketing">Marketing</option>
                        </select>
                        <span class="form-helper">Primary business domain</span>
                    </div>

                    <!-- Data Product Type -->
                    <div class="form-field">
                        <label class="form-label">
                            Data Product Type
                            <span class="required">*</span>
                        </label>
                        <select class="form-select" id="productType">
                            <option value="">Select type</option>
                            <option value="json">JSON</option>
                            <option value="csv">CSV</option>
                            <option value="parquet">Parquet</option>
                            <option value="api">API</option>
                            <option value="dashboard">Dashboard</option>
                            <option value="report">Report</option>
                        </select>
                        <span class="form-helper">Format or type of data product</span>
                    </div>

                    <!-- Category -->
                    <div class="form-field">
                        <label class="form-label">
                            Category
                            <span class="required">*</span>
                        </label>
                        <select class="form-select" id="productCategory">
                            <option value="">Select category</option>
                            <option value="fraud-detection">Fraud Detection</option>
                            <option value="customer-insights">Customer Insights</option>
                            <option value="financial-analytics">Financial Analytics</option>
                            <option value="operational-metrics">Operational Metrics</option>
                            <option value="compliance-reporting">Compliance Reporting</option>
                            <option value="predictive-analytics">Predictive Analytics</option>
                        </select>
                        <span class="form-helper">Functional category of the data product</span>
                    </div>

                    <!-- Short Summary -->
                    <div class="form-field full-width">
                        <label class="form-label">
                            Short Summary
                            <span class="required">*</span>
                        </label>
                        <textarea
                            class="form-textarea"
                            placeholder="Enter a brief summary (1-2 sentences)"
                            id="productSummary"
                            maxlength="200"
                        ></textarea>
                        <span class="form-helper">Brief description shown in listing cards (max 200 characters)</span>
                    </div>

                    <!-- Full Description -->
                    <div class="form-field full-width">
                        <label class="form-label">
                            Full Description
                            <span class="required">*</span>
                        </label>
                        <textarea
                            class="form-textarea large"
                            placeholder="Provide a detailed description of the data product, its purpose, and key features"
                            id="productDescription"
                        ></textarea>
                        <span class="form-helper">Comprehensive description including use cases, benefits, and technical details</span>
                    </div>
                </div>
            </div>
            </div>

            <!-- Step 2: Data Source & Connection -->
            <div id="step2" class="form-step" style="display: none;">
                <div class="form-section">
                    <h2 class="form-section-title">
                        <i class="ph ph-database"></i>
                        Select Data Source Platform
                    </h2>
                    <span class="form-helper" style="display: block; margin-bottom: 24px;">Choose where your data is stored</span>

                    <div class="platform-grid">
                        <div class="platform-card" onclick="selectPlatform('snowflake', this)">
                            <div class="platform-card-icon">
                                <i class="ph ph-snowflake"></i>
                            </div>
                            <div class="platform-card-name">Snowflake</div>
                        </div>
                        <div class="platform-card" onclick="selectPlatform('databricks', this)">
                            <div class="platform-card-icon">
                                <i class="ph ph-database"></i>
                            </div>
                            <div class="platform-card-name">Databricks</div>
                        </div>
                    </div>
                </div>

                <!-- Connection Details -->
                <div class="form-section" style="margin-top: 32px;">
                    <h2 class="form-section-title">
                        <i class="ph ph-plug"></i>
                        Connection Details
                    </h2>

                    <div class="form-grid">
                        <div class="form-field full-width">
                            <label class="form-label">
                                Connection Name
                                <span class="required">*</span>
                            </label>
                            <input
                                type="text"
                                class="form-input"
                                placeholder="e.g., Production Data Warehouse"
                                id="connectionName"
                            />
                            <span class="form-helper">A friendly name to identify this connection</span>
                        </div>

                        <div class="form-field">
                            <label class="form-label">
                                Database/Schema Path
                                <span class="required">*</span>
                            </label>
                            <input
                                type="text"
                                class="form-input"
                                placeholder="e.g., DATABASE.SCHEMA"
                                id="connectionPath"
                            />
                        </div>

                        <div class="form-field">
                            <label class="form-label">
                                Authentication
                                <span class="required">*</span>
                            </label>
                            <select class="form-select" id="authMethod">
                                <option value="">Select method</option>
                                <option value="sso">Single Sign-On (SSO)</option>
                                <option value="service-account">Service Account</option>
                                <option value="oauth">OAuth 2.0</option>
                            </select>
                        </div>

                        <div class="form-field full-width">
                            <button class="connection-test-btn" onclick="testConnection()">
                                <i class="ph ph-plug"></i>
                                Test Connection
                            </button>
                            <div id="connectionStatus" style="display: none; margin-top: 16px;"></div>
                        </div>
                    </div>
                </div>

                <!-- Datasets Section -->
                <div class="form-section" style="margin-top: 32px;">
                    <h2 class="form-section-title">
                        <i class="ph ph-table"></i>
                        Select Datasets
                    </h2>
                    <span class="form-helper" style="display: block; margin-bottom: 24px;">Add the tables or datasets you want to share</span>

                    <div id="datasetList" class="dataset-list">
                        <!-- Default dataset item -->
                        <div class="dataset-item" data-dataset-index="0">
                            <div class="dataset-item-header">
                                <span class="dataset-item-title">Dataset 1</span>
                                <button class="remove-dataset-btn" onclick="removeDataset(0)" style="display: none;">
                                    <i class="ph ph-trash"></i>
                                    Remove
                                </button>
                            </div>
                            <div class="form-grid">
                                <div class="form-field">
                                    <label class="form-label">
                                        Table Name
                                        <span class="required">*</span>
                                    </label>
                                    <input
                                        type="text"
                                        class="form-input"
                                        placeholder="e.g., customer_transactions"
                                        name="tableName"
                                    />
                                </div>
                                <div class="form-field">
                                    <label class="form-label">
                                        Display Name
                                        <span class="required">*</span>
                                    </label>
                                    <input
                                        type="text"
                                        class="form-input"
                                        placeholder="e.g., Customer Transactions"
                                        name="displayName"
                                    />
                                </div>
                            </div>
                        </div>
                    </div>

                    <button class="add-dataset-btn" onclick="addDataset()">
                        <i class="ph ph-plus"></i>
                        Add Another Dataset
                    </button>
                </div>
            </div>

            <!-- Step 3: Entitlements & Access -->
            <div id="step3" class="form-step" style="display: none;">
                <div class="form-section">
                    <h2 class="form-section-title">
                        <i class="ph ph-lock-key"></i>
                        Visibility & Discovery
                    </h2>

                    <div class="form-field">
                        <label class="form-label">
                            Who can discover this data product?
                            <span class="required">*</span>
                        </label>
                        <span class="form-helper">Control who can find and view this data product in the marketplace</span>
                    </div>

                    <div class="visibility-options">
                        <label class="visibility-option selected" onclick="selectVisibility('public')">
                            <input type="radio" name="visibility" value="public" checked>
                            <div class="visibility-option-header">
                                <div class="visibility-option-icon">
                                    <i class="ph ph-globe"></i>
                                </div>
                                <div class="visibility-option-title">Public</div>
                            </div>
                            <div class="visibility-option-description">
                                Anyone in the organization can discover and request access to this data product.
                            </div>
                        </label>

                        <label class="visibility-option" onclick="selectVisibility('restricted')">
                            <input type="radio" name="visibility" value="restricted">
                            <div class="visibility-option-header">
                                <div class="visibility-option-icon">
                                    <i class="ph ph-lock"></i>
                                </div>
                                <div class="visibility-option-title">Restricted</div>
                            </div>
                            <div class="visibility-option-description">
                                Only specific users, teams, or departments can discover this data product.
                            </div>
                        </label>

                        <label class="visibility-option" onclick="selectVisibility('private')">
                            <input type="radio" name="visibility" value="private">
                            <div class="visibility-option-header">
                                <div class="visibility-option-icon">
                                    <i class="ph ph-eye-slash"></i>
                                </div>
                                <div class="visibility-option-title">Private</div>
                            </div>
                            <div class="visibility-option-description">
                                Hidden from discovery. Only users you explicitly grant access can see it.
                            </div>
                        </label>
                    </div>
                </div>

                <!-- Restricted Access Controls (shown when Restricted is selected) -->
                <div class="form-section" id="restrictedAccessSection" style="display: none; margin-top: 32px;">
                    <h2 class="form-section-title">
                        <i class="ph ph-users"></i>
                        Discovery Access
                    </h2>

                    <div class="form-field">
                        <label class="form-label">
                            Departments
                        </label>
                        <div class="checkbox-group">
                            <label class="checkbox-item">
                                <input type="checkbox" name="department" value="risk-management">
                                <span class="checkbox-item-label">Risk Management</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="department" value="compliance">
                                <span class="checkbox-item-label">Compliance</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="department" value="analytics">
                                <span class="checkbox-item-label">Analytics</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="department" value="finance">
                                <span class="checkbox-item-label">Finance</span>
                            </label>
                            <label class="checkbox-item">
                                <input type="checkbox" name="department" value="operations">
                                <span class="checkbox-item-label">Operations</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Access Management -->
                <div class="form-section" style="margin-top: 32px;">
                    <h2 class="form-section-title">
                        <i class="ph ph-shield-check"></i>
                        Access Management
                    </h2>

                    <div class="form-field">
                        <label class="form-label">
                            Who can access this data product?
                        </label>
                        <span class="form-helper">Grant specific users or teams direct access to consume this data product</span>
                    </div>

                    <div id="accessList" class="access-list">
                        <!-- Example access items will be added here dynamically -->
                    </div>

                    <button class="add-access-btn" onclick="addAccessUser()">
                        <i class="ph ph-plus"></i>
                        Add User or Team
                    </button>
                </div>

                <!-- Additional Settings -->
                <div class="form-section" style="margin-top: 32px;">
                    <h2 class="form-section-title">
                        <i class="ph ph-gear"></i>
                        Additional Settings
                    </h2>

                    <div class="form-grid">
                        <div class="form-field">
                            <label class="form-label">
                                Access Request Approval
                                <span class="required">*</span>
                            </label>
                            <select class="form-select" id="approvalRequired">
                                <option value="manual">Manual approval required</option>
                                <option value="automatic">Automatic approval</option>
                                <option value="none">No approval needed</option>
                            </select>
                            <span class="form-helper">How access requests should be handled</span>
                        </div>

                        <div class="form-field">
                            <label class="form-label">
                                Data Classification
                                <span class="required">*</span>
                            </label>
                            <select class="form-select" id="dataClassification">
                                <option value="">Select classification</option>
                                <option value="public">Public</option>
                                <option value="internal">Internal</option>
                                <option value="confidential">Confidential</option>
                                <option value="restricted">Restricted</option>
                                <option value="highly-restricted">Highly Restricted</option>
                            </select>
                            <span class="form-helper">Data sensitivity level</span>
                        </div>
                    </div>

                    <div class="form-field" style="margin-top: 24px;">
                        <label class="checkbox-item">
                            <input type="checkbox" id="requireTraining">
                            <span class="checkbox-item-label">Require data usage training before access</span>
                        </label>
                    </div>

                    <div class="form-field" style="margin-top: 12px;">
                        <label class="checkbox-item">
                            <input type="checkbox" id="enableAuditLog">
                            <span class="checkbox-item-label">Enable audit logging for all access</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- Form Actions -->
        <div class="form-actions">
            <div class="form-actions-left">
                <button class="btn btn-outline" onclick="hideCreateForm()" id="cancelBtn">
                    <i class="ph ph-x"></i>
                    Cancel
                </button>
                <button class="btn btn-outline" onclick="previousStep()" id="previousBtn" style="display: none;">
                    <i class="ph ph-arrow-left"></i>
                    Previous
                </button>
            </div>
            <div class="form-actions-right">
                <button class="btn btn-secondary" onclick="saveAsDraft()">
                    <i class="ph ph-floppy-disk"></i>
                    Save as Draft
                </button>
                <button class="btn btn-primary" onclick="nextStep()" id="nextBtn">
                    <span id="nextBtnText">Next Step</span>
                    <i class="ph ph-arrow-right" id="nextBtnIcon"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        // Show detail view
        function showDetailView(productData) {
            // Hide main content
            document.querySelector('.hero').classList.add('hide');
            document.querySelector('.main-content').classList.add('hide');

            // Show detail view
            document.getElementById('detailView').classList.add('active');

            // Update breadcrumb
            document.getElementById('breadcrumbTitle').textContent = productData.title;

            // Update detail information
            document.getElementById('detailTitle').textContent = productData.title;
            document.getElementById('detailDescription').textContent = productData.description;
            document.getElementById('detailRating').textContent = productData.rating;
            document.getElementById('detailType').textContent = productData.type;

            // Update icon
            const detailIcon = document.getElementById('detailIcon');
            detailIcon.className = 'detail-icon ' + productData.iconClass;
            detailIcon.innerHTML = '<i class="' + productData.icon + '"></i>';

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Hide detail view
        function hideDetailView() {
            // Show main content
            document.querySelector('.hero').classList.remove('hide');
            document.querySelector('.main-content').classList.remove('hide');

            // Hide detail view
            document.getElementById('detailView').classList.remove('active');

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Show create form
        function showCreateForm() {
            // Hide main content and detail view
            document.querySelector('.hero').classList.add('hide');
            document.querySelector('.main-content').classList.add('hide');
            document.getElementById('detailView').classList.remove('active');

            // Show create form
            document.getElementById('createFormView').classList.add('active');

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Hide create form
        function hideCreateForm() {
            // Show main content
            document.querySelector('.hero').classList.remove('hide');
            document.querySelector('.main-content').classList.remove('hide');

            // Hide create form
            document.getElementById('createFormView').classList.remove('active');

            // Reset to step 1
            if (typeof currentStep !== 'undefined') {
                document.getElementById('step1').style.display = 'block';
                document.getElementById('step2').style.display = 'none';
                document.getElementById('step3').style.display = 'none';
                document.getElementById('stepIndicator').textContent = 'Step 1 of 3: General Information';
                document.getElementById('previousBtn').style.display = 'none';

                // Reset button text
                document.getElementById('nextBtnText').textContent = 'Next Step';
                document.getElementById('nextBtnIcon').className = 'ph ph-arrow-right';

                currentStep = 1;
                updateProgressIndicator(1);
            }

            // Reset draft ID
            currentDraftId = null;

            // Clear form fields
            document.getElementById('productName').value = '';
            document.getElementById('productOwner').value = '';
            document.getElementById('productDomain').value = '';
            document.getElementById('productType').value = '';
            document.getElementById('productCategory').value = '';
            document.getElementById('productSummary').value = '';
            document.getElementById('productDescription').value = '';
            document.getElementById('connectionName').value = '';
            document.getElementById('connectionPath').value = '';
            document.getElementById('authMethod').value = '';

            // Reset platform selection
            selectedPlatform = null;
            document.querySelectorAll('.platform-card').forEach(card => {
                card.classList.remove('selected');
            });

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Add click event to back to listings link
        document.getElementById('backToListings').addEventListener('click', hideDetailView);

        // Add click event to back to listings from create form
        document.getElementById('backToListingsFromCreate').addEventListener('click', hideCreateForm);

        // Add click event to Create New Listing button
        document.querySelector('.create-btn').addEventListener('click', showCreateForm);

        // Multi-step form management
        let currentStep = 1;
        let datasetCount = 1;

        function updateProgressIndicator(step) {
            // Remove active/completed from all steps
            document.querySelectorAll('.progress-step').forEach(s => {
                s.classList.remove('active', 'completed');
            });

            // Mark steps as completed or active
            for (let i = 1; i <= 3; i++) {
                const stepElement = document.getElementById('progressStep' + i);
                if (i < step) {
                    stepElement.classList.add('completed');
                } else if (i === step) {
                    stepElement.classList.add('active');
                }
            }
        }

        function nextStep() {
            if (currentStep === 1) {
                // Move to step 2
                document.getElementById('step1').style.display = 'none';
                document.getElementById('step2').style.display = 'block';
                document.getElementById('stepIndicator').textContent = 'Step 2 of 3: Data Source & Connection';
                document.getElementById('previousBtn').style.display = 'flex';
                currentStep = 2;
                updateProgressIndicator(2);
            } else if (currentStep === 2) {
                // Move to step 3
                document.getElementById('step2').style.display = 'none';
                document.getElementById('step3').style.display = 'block';
                document.getElementById('stepIndicator').textContent = 'Step 3 of 3: Entitlements & Access';

                // Update button text for final step
                document.getElementById('nextBtnText').textContent = 'Submit for Approval';
                document.getElementById('nextBtnIcon').className = 'ph ph-check';

                currentStep = 3;
                updateProgressIndicator(3);
            } else if (currentStep === 3) {
                // Submit for approval
                alert('Form submitted for approval!');
                hideCreateForm();
            }
            window.scrollTo(0, 0);
        }

        function previousStep() {
            if (currentStep === 2) {
                // Move back to step 1
                document.getElementById('step2').style.display = 'none';
                document.getElementById('step1').style.display = 'block';
                document.getElementById('stepIndicator').textContent = 'Step 1 of 3: General Information';
                document.getElementById('previousBtn').style.display = 'none';
                currentStep = 1;
                updateProgressIndicator(1);
            } else if (currentStep === 3) {
                // Move back to step 2
                document.getElementById('step3').style.display = 'none';
                document.getElementById('step2').style.display = 'block';
                document.getElementById('stepIndicator').textContent = 'Step 2 of 3: Data Source & Connection';

                // Restore button text
                document.getElementById('nextBtnText').textContent = 'Next Step';
                document.getElementById('nextBtnIcon').className = 'ph ph-arrow-right';

                currentStep = 2;
                updateProgressIndicator(2);
            }
            window.scrollTo(0, 0);
        }

        function addDataset() {
            const datasetList = document.getElementById('datasetList');
            const newIndex = datasetCount;

            const datasetItem = document.createElement('div');
            datasetItem.className = 'dataset-item';
            datasetItem.setAttribute('data-dataset-index', newIndex);
            datasetItem.innerHTML = `
                <div class="dataset-item-header">
                    <span class="dataset-item-title">Dataset ${newIndex + 1}</span>
                    <button class="remove-dataset-btn" onclick="removeDataset(${newIndex})">
                        <i class="ph ph-trash"></i>
                        Remove
                    </button>
                </div>
                <div class="form-grid">
                    <div class="form-field">
                        <label class="form-label">
                            Table Name
                            <span class="required">*</span>
                        </label>
                        <input
                            type="text"
                            class="form-input"
                            placeholder="e.g., customer_transactions"
                            name="tableName"
                        />
                    </div>
                    <div class="form-field">
                        <label class="form-label">
                            Display Name
                            <span class="required">*</span>
                        </label>
                        <input
                            type="text"
                            class="form-input"
                            placeholder="e.g., Customer Transactions"
                            name="displayName"
                        />
                    </div>
                </div>
            `;

            datasetList.appendChild(datasetItem);
            datasetCount++;

            // Show remove button on all datasets if there's more than one
            updateDatasetRemoveButtons();
        }

        function removeDataset(index) {
            const dataset = document.querySelector(`[data-dataset-index="${index}"]`);
            if (dataset) {
                dataset.remove();
                updateDatasetRemoveButtons();
                updateDatasetTitles();
            }
        }

        function updateDatasetRemoveButtons() {
            const datasets = document.querySelectorAll('.dataset-item');
            datasets.forEach((dataset, index) => {
                const removeBtn = dataset.querySelector('.remove-dataset-btn');
                if (datasets.length > 1) {
                    removeBtn.style.display = 'flex';
                } else {
                    removeBtn.style.display = 'none';
                }
            });
        }

        function updateDatasetTitles() {
            const datasets = document.querySelectorAll('.dataset-item');
            datasets.forEach((dataset, index) => {
                const title = dataset.querySelector('.dataset-item-title');
                title.textContent = `Dataset ${index + 1}`;
            });
        }

        // Step 2: Platform selection
        let selectedPlatform = null;

        function selectPlatform(platform, element) {
            // Remove selected class from all platform cards
            document.querySelectorAll('.platform-card').forEach(card => {
                card.classList.remove('selected');
            });

            // Add selected class to clicked card
            element.classList.add('selected');
            selectedPlatform = platform;
        }

        function testConnection() {
            const statusDiv = document.getElementById('connectionStatus');
            statusDiv.style.display = 'flex';
            statusDiv.className = 'connection-status';
            statusDiv.innerHTML = '<i class="ph ph-spinner"></i> Testing connection...';

            // Simulate connection test
            setTimeout(() => {
                const success = Math.random() > 0.3;
                if (success) {
                    statusDiv.className = 'connection-status success';
                    statusDiv.innerHTML = '<i class="ph ph-check-circle"></i> Connection successful!';
                } else {
                    statusDiv.className = 'connection-status error';
                    statusDiv.innerHTML = '<i class="ph ph-x-circle"></i> Connection failed. Please check your credentials.';
                }
            }, 1500);
        }

        // Step 3: Entitlements functions
        function selectVisibility(type) {
            // Remove selected class from all options
            document.querySelectorAll('.visibility-option').forEach(option => {
                option.classList.remove('selected');
            });

            // Add selected class to clicked option
            event.currentTarget.classList.add('selected');

            // Show/hide restricted access section
            const restrictedSection = document.getElementById('restrictedAccessSection');
            if (type === 'restricted') {
                restrictedSection.style.display = 'block';
            } else {
                restrictedSection.style.display = 'none';
            }
        }

        let accessUserCount = 0;
        const sampleUsers = [
            { name: 'Sarah Mitchell', role: 'Risk Analyst', initials: 'SM', color: '#667eea' },
            { name: 'David Chen', role: 'Data Engineer', initials: 'DC', color: '#f093fb' },
            { name: 'Emily Rodriguez', role: 'Compliance Officer', initials: 'ER', color: '#4facfe' },
            { name: 'Michael Brown', role: 'Analytics Lead', initials: 'MB', color: '#43e97b' },
            { name: 'Lisa Thompson', role: 'Security Analyst', initials: 'LT', color: '#fa709a' }
        ];

        function addAccessUser() {
            const accessList = document.getElementById('accessList');
            const user = sampleUsers[accessUserCount % sampleUsers.length];

            const accessItem = document.createElement('div');
            accessItem.className = 'access-item';
            accessItem.setAttribute('data-access-index', accessUserCount);
            accessItem.innerHTML = `
                <div class="access-item-left">
                    <div class="access-item-avatar" style="background: ${user.color}">
                        ${user.initials}
                    </div>
                    <div class="access-item-info">
                        <div class="access-item-name">${user.name}</div>
                        <div class="access-item-role">${user.role}</div>
                    </div>
                </div>
                <div class="access-item-right">
                    <select class="access-level-select">
                        <option value="viewer">Viewer</option>
                        <option value="analyst">Analyst</option>
                        <option value="editor">Editor</option>
                        <option value="admin">Admin</option>
                    </select>
                    <button class="remove-access-btn" onclick="removeAccessUser(${accessUserCount})">
                        <i class="ph ph-x"></i>
                    </button>
                </div>
            `;

            accessList.appendChild(accessItem);
            accessUserCount++;
        }

        function removeAccessUser(index) {
            const accessItem = document.querySelector(`[data-access-index="${index}"]`);
            if (accessItem) {
                accessItem.remove();
            }
        }

        // Add click events to all product cards
        document.querySelectorAll('.product-card').forEach(card => {
            card.addEventListener('click', function() {
                const title = this.querySelector('.product-title').textContent;
                const description = this.querySelector('.product-description').textContent;
                const rating = this.querySelector('.rating-value').textContent;
                const type = this.querySelector('.product-owner').textContent;
                const icon = this.querySelector('.product-icon i').className;
                const iconClass = this.querySelector('.product-icon').className.replace('product-icon', '').trim();

                showDetailView({
                    title: title,
                    description: description,
                    rating: rating,
                    type: type,
                    icon: icon,
                    iconClass: iconClass
                });
            });
        });

        // Filter Management
        const activeFiltersContainer = document.getElementById('activeFilters');
        const activeFiltersWrapper = document.getElementById('activeFiltersContainer');
        const activeFilters = {
            department: [],
            medallion: [],
            status: []
        };

        // Toggle filter panels - ONLY for producer view (main-content)
        const producerFilterBtns = document.querySelectorAll('.main-content .filter-btn');
        const producerFilterPanels = document.querySelectorAll('.main-content .filter-panel');

        producerFilterBtns.forEach((btn, index) => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();

                // Close other panels
                producerFilterBtns.forEach((b, i) => {
                    if (i !== index) {
                        b.classList.remove('active');
                        producerFilterPanels[i].classList.remove('active');
                    }
                });

                // Toggle current panel
                btn.classList.toggle('active');
                producerFilterPanels[index].classList.toggle('active');
            });
        });

        // Close filter panels when clicking outside - ONLY producer view
        document.addEventListener('click', function(e) {
            if (!e.target.closest('.main-content .filter-container')) {
                producerFilterBtns.forEach(btn => btn.classList.remove('active'));
                producerFilterPanels.forEach(panel => panel.classList.remove('active'));
            }
        });

        // Handle checkbox filters (Department and Medallion) - ONLY producer view
        document.querySelectorAll('.main-content input[type="checkbox"][data-filter]').forEach(checkbox => {
            checkbox.addEventListener('change', function() {
                const filterType = this.getAttribute('data-filter');
                const value = this.value;

                if (this.checked) {
                    activeFilters[filterType].push(value);
                } else {
                    activeFilters[filterType] = activeFilters[filterType].filter(v => v !== value);
                }

                updateActiveFilters();
            });
        });

        // Handle list item filters (Status)
        document.querySelectorAll('.filter-option-item').forEach(item => {
            item.addEventListener('click', function() {
                const filterType = this.getAttribute('data-filter');
                const value = this.getAttribute('data-value');

                // Toggle selection
                if (this.classList.contains('selected')) {
                    this.classList.remove('selected');
                    activeFilters[filterType] = activeFilters[filterType].filter(v => v !== value);
                } else {
                    this.classList.add('selected');
                    activeFilters[filterType].push(value);
                }

                updateActiveFilters();
            });
        });

        // Department search functionality
        const departmentSearch = document.getElementById('departmentSearch');
        const departmentOptions = document.getElementById('departmentOptions');

        if (departmentSearch) {
            departmentSearch.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase();
                const options = departmentOptions.querySelectorAll('.filter-option');

                options.forEach(option => {
                    const text = option.textContent.toLowerCase();
                    if (text.includes(searchTerm)) {
                        option.style.display = 'flex';
                    } else {
                        option.style.display = 'none';
                    }
                });
            });
        }

        // Update active filter tags
        function updateActiveFilters() {
            activeFiltersContainer.innerHTML = '';

            // Add department filters
            activeFilters.department.forEach(value => {
                addFilterTag('department', value, 'Department');
            });

            // Add medallion filters
            activeFilters.medallion.forEach(value => {
                addFilterTag('medallion', value, 'Medallion');
            });

            // Add status filters
            activeFilters.status.forEach(value => {
                addFilterTag('status', value, 'Status');
            });

            // Check if any filters are active
            const hasActiveFilters = activeFilters.department.length > 0 ||
                                    activeFilters.medallion.length > 0 ||
                                    activeFilters.status.length > 0;

            // Add clear all button inline if there are active filters
            if (hasActiveFilters) {
                const clearAllBtn = document.createElement('button');
                clearAllBtn.className = 'clear-all-inline-btn';
                clearAllBtn.innerHTML = `
                    <i class="ph ph-x-circle"></i>
                    Clear All
                `;
                clearAllBtn.onclick = clearAllFilters;
                activeFiltersContainer.appendChild(clearAllBtn);
            }

            // Show or hide the active filters wrapper
            if (hasActiveFilters) {
                activeFiltersWrapper.style.display = 'block';
            } else {
                activeFiltersWrapper.style.display = 'none';
            }
        }

        function addFilterTag(filterType, value, label) {
            const tag = document.createElement('div');
            tag.className = 'filter-tag';
            tag.innerHTML = `
                <span>${label}: ${value}</span>
                <span class="filter-tag-remove" onclick="removeFilter('${filterType}', '${value}')">
                    <i class="ph ph-x"></i>
                </span>
            `;
            activeFiltersContainer.appendChild(tag);
        }

        function removeFilter(filterType, value) {
            // Remove from active filters
            activeFilters[filterType] = activeFilters[filterType].filter(v => v !== value);

            // Uncheck checkbox if it exists
            const checkbox = document.querySelector(`input[type="checkbox"][data-filter="${filterType}"][value="${value}"]`);
            if (checkbox) {
                checkbox.checked = false;
            }

            // Remove selected class from list item if it exists
            const listItem = document.querySelector(`.filter-option-item[data-filter="${filterType}"][data-value="${value}"]`);
            if (listItem) {
                listItem.classList.remove('selected');
            }

            // Update display
            updateActiveFilters();
        }

        // Make removeFilter available globally
        window.removeFilter = removeFilter;

        // Clear all filters
        function clearAllFilters() {
            // Clear all active filters
            activeFilters.department = [];
            activeFilters.medallion = [];
            activeFilters.status = [];

            // Uncheck all checkboxes
            document.querySelectorAll('input[type="checkbox"][data-filter]').forEach(checkbox => {
                checkbox.checked = false;
            });

            // Remove selected class from all list items
            document.querySelectorAll('.filter-option-item.selected').forEach(item => {
                item.classList.remove('selected');
            });

            // Update display
            updateActiveFilters();
        }

        // Make clearAllFilters available globally
        window.clearAllFilters = clearAllFilters;

        // Sort button functionality
        const sortBtn = document.getElementById('sortBtn');
        const sortDropdown = document.getElementById('sortDropdown');
        const sortOptions = document.querySelectorAll('.sort-option');

        // Toggle dropdown
        sortBtn.addEventListener('click', function(e) {
            e.stopPropagation();
            sortDropdown.classList.toggle('active');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            if (!sortBtn.contains(e.target) && !sortDropdown.contains(e.target)) {
                sortDropdown.classList.remove('active');
            }
        });

        // Handle sort option selection
        sortOptions.forEach(option => {
            option.addEventListener('click', function() {
                // Remove selected class from all options
                sortOptions.forEach(opt => opt.classList.remove('selected'));

                // Add selected class to clicked option
                this.classList.add('selected');

                // Update button icon based on selection
                const sortType = this.getAttribute('data-sort');
                const icon = this.querySelector('i').className;
                sortBtn.querySelector('i').className = icon;

                // Close dropdown
                sortDropdown.classList.remove('active');

                // Here you can add sorting logic based on sortType
                console.log('Sort by:', sortType);
            });
        });

        // Draft Management Functions
        let currentDraftId = null;

        function saveAsDraft() {
            // Collect form data from all steps
            const draftData = {
                id: currentDraftId || Date.now().toString(),
                savedAt: new Date().toISOString(),
                currentStep: currentStep,
                step1: {
                    productName: document.getElementById('productName')?.value || '',
                    productOwner: document.getElementById('productOwner')?.value || '',
                    domain: document.getElementById('productDomain')?.value || '',
                    type: document.getElementById('productType')?.value || '',
                    category: document.getElementById('productCategory')?.value || '',
                    shortSummary: document.getElementById('productSummary')?.value || '',
                    fullDescription: document.getElementById('productDescription')?.value || ''
                },
                step2: {
                    platform: selectedPlatform || '',
                    connectionName: document.getElementById('connectionName')?.value || '',
                    connectionPath: document.getElementById('connectionPath')?.value || '',
                    authMethod: document.getElementById('authMethod')?.value || ''
                },
                step3: {
                    visibility: document.querySelector('input[name="visibility"]:checked')?.value || 'public'
                }
            };

            // Get existing drafts from localStorage
            let drafts = JSON.parse(localStorage.getItem('dataProductDrafts') || '[]');

            // Check if updating existing draft or creating new
            const existingIndex = drafts.findIndex(d => d.id === draftData.id);
            if (existingIndex >= 0) {
                drafts[existingIndex] = draftData;
            } else {
                drafts.push(draftData);
            }

            // Save to localStorage
            localStorage.setItem('dataProductDrafts', JSON.stringify(drafts));

            // Update draft count
            updateDraftCount();

            // Show success message
            alert('Draft saved successfully!');

            // Set current draft ID for future saves
            currentDraftId = draftData.id;
        }

        function loadDrafts() {
            const drafts = JSON.parse(localStorage.getItem('dataProductDrafts') || '[]');
            const draftsContent = document.getElementById('draftsContent');

            if (drafts.length === 0) {
                draftsContent.innerHTML = `
                    <div class="empty-drafts">
                        <i class="ph ph-file-dashed"></i>
                        <h3>No drafts yet</h3>
                        <p>Your saved draft listings will appear here</p>
                    </div>
                `;
                return;
            }

            draftsContent.innerHTML = drafts.map(draft => {
                const date = new Date(draft.savedAt);
                const formattedDate = date.toLocaleDateString() + ' at ' + date.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                const productName = draft.step1.productName || 'Untitled Draft';

                return `
                    <div class="draft-card">
                        <div class="draft-card-header">
                            <div>
                                <div class="draft-card-title">${productName}</div>
                                <div class="draft-card-step">
                                    <i class="ph ph-circle" style="color: #F59E0B;"></i>
                                    Step ${draft.currentStep} of 3
                                </div>
                            </div>
                        </div>
                        <div class="draft-card-meta">
                            Last saved: ${formattedDate}
                        </div>
                        <div class="draft-card-actions">
                            <button onclick="loadDraft('${draft.id}')" class="primary">
                                <i class="ph ph-pencil"></i>
                                Continue Editing
                            </button>
                            <button onclick="deleteDraft('${draft.id}')" class="danger">
                                <i class="ph ph-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function loadDraft(draftId) {
            const drafts = JSON.parse(localStorage.getItem('dataProductDrafts') || '[]');
            const draft = drafts.find(d => d.id === draftId);

            if (!draft) {
                alert('Draft not found');
                return;
            }

            // Set current draft ID
            currentDraftId = draftId;

            // Hide drafts view and show create form
            hideDraftsView();
            showCreateForm();

            // Populate form fields
            // Step 1
            if (draft.step1.productName) document.getElementById('productName').value = draft.step1.productName;
            if (draft.step1.productOwner) document.getElementById('productOwner').value = draft.step1.productOwner;
            if (draft.step1.domain) document.getElementById('productDomain').value = draft.step1.domain;
            if (draft.step1.type) document.getElementById('productType').value = draft.step1.type;
            if (draft.step1.category) document.getElementById('productCategory').value = draft.step1.category;
            if (draft.step1.shortSummary) document.getElementById('productSummary').value = draft.step1.shortSummary;
            if (draft.step1.fullDescription) document.getElementById('productDescription').value = draft.step1.fullDescription;

            // Step 2
            if (draft.step2.platform) {
                selectedPlatform = draft.step2.platform;
                // Visually select the platform card
                document.querySelectorAll('.platform-card').forEach(card => {
                    if (card.getAttribute('onclick').includes(draft.step2.platform)) {
                        card.classList.add('selected');
                    }
                });
            }
            if (draft.step2.connectionName) document.getElementById('connectionName').value = draft.step2.connectionName;
            if (draft.step2.connectionPath) document.getElementById('connectionPath').value = draft.step2.connectionPath;
            if (draft.step2.authMethod) document.getElementById('authMethod').value = draft.step2.authMethod;

            // Step 3
            if (draft.step3.visibility) {
                const visibilityRadio = document.querySelector(`input[name="visibility"][value="${draft.step3.visibility}"]`);
                if (visibilityRadio) {
                    visibilityRadio.checked = true;
                    // Trigger the visibility selection visually
                    document.querySelectorAll('.visibility-option').forEach(opt => opt.classList.remove('selected'));
                    visibilityRadio.closest('.visibility-option').classList.add('selected');
                }
            }

            // Navigate to the step where user left off
            if (draft.currentStep > 1) {
                // Hide all steps first
                document.getElementById('step1').style.display = 'none';
                document.getElementById('step2').style.display = 'none';
                document.getElementById('step3').style.display = 'none';

                // Show the current step
                document.getElementById('step' + draft.currentStep).style.display = 'block';
                currentStep = draft.currentStep;

                // Update UI elements
                const stepTitles = [
                    'General Information',
                    'Data Source & Connection',
                    'Entitlements & Access'
                ];
                document.getElementById('stepIndicator').textContent = `Step ${draft.currentStep} of 3: ${stepTitles[draft.currentStep - 1]}`;

                // Show/hide previous button
                if (draft.currentStep > 1) {
                    document.getElementById('previousBtn').style.display = 'flex';
                }

                // Update next button for final step
                if (draft.currentStep === 3) {
                    document.getElementById('nextBtnText').textContent = 'Submit for Approval';
                    document.getElementById('nextBtnIcon').className = 'ph ph-check';
                }

                // Update progress indicator
                updateProgressIndicator(draft.currentStep);
            }
        }

        function deleteDraft(draftId) {
            if (!confirm('Are you sure you want to delete this draft?')) {
                return;
            }

            let drafts = JSON.parse(localStorage.getItem('dataProductDrafts') || '[]');
            drafts = drafts.filter(d => d.id !== draftId);
            localStorage.setItem('dataProductDrafts', JSON.stringify(drafts));

            // Reload drafts display
            loadDrafts();
            updateDraftCount();
        }

        function showDrafts() {
            // Hide other views
            document.querySelector('.hero').classList.add('hide');
            document.querySelector('.main-content').classList.add('hide');
            document.getElementById('detailView').classList.remove('active');
            document.getElementById('createFormView').classList.remove('active');

            // Show drafts view
            document.getElementById('draftsView').classList.add('active');

            // Load and display drafts
            loadDrafts();

            // Scroll to top
            window.scrollTo(0, 0);
        }

        function hideDraftsView() {
            // Show main content
            document.querySelector('.hero').classList.remove('hide');
            document.querySelector('.main-content').classList.remove('hide');

            // Hide drafts view
            document.getElementById('draftsView').classList.remove('active');

            // Scroll to top
            window.scrollTo(0, 0);
        }

        function updateDraftCount() {
            const drafts = JSON.parse(localStorage.getItem('dataProductDrafts') || '[]');
            const draftCountElement = document.getElementById('draftCount');
            if (draftCountElement) {
                draftCountElement.textContent = drafts.length;
            }
        }

        // Initialize draft count on page load
        updateDraftCount();

        // Clear current draft ID when creating new listing
        const originalShowCreateForm = showCreateForm;
        showCreateForm = function() {
            currentDraftId = null; // Reset for new listing
            originalShowCreateForm();
        };

        // ========== MARKETPLACE FUNCTIONS ==========

        // Cart state management
        let cart = JSON.parse(localStorage.getItem('marketplaceCart') || '[]');

        function updateCartCount() {
            const cartCount = document.getElementById('cartCount');
            if (cartCount) {
                cartCount.textContent = cart.length;
                if (cart.length === 0) {
                    cartCount.style.display = 'none';
                } else {
                    cartCount.style.display = 'flex';
                }
            }
        }

        function showMarketplace() {
            // Hide all other views
            document.querySelector('.hero').style.display = 'none';
            document.querySelector('.main-content').style.display = 'none';
            document.getElementById('detailView').classList.remove('active');
            document.getElementById('createFormView').classList.remove('active');
            document.getElementById('draftsView').classList.remove('active');
            document.getElementById('consumerProductDetail').style.display = 'none';
            document.getElementById('cartView').style.display = 'none';
            document.getElementById('checkoutView').style.display = 'none';

            // Show marketplace view
            document.getElementById('marketplaceView').style.display = 'block';

            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            document.getElementById('marketplaceTab').classList.add('active');

            // Scroll to top
            window.scrollTo(0, 0);
        }

        function showMyListings() {
            // Hide all other views
            document.getElementById('marketplaceView').style.display = 'none';
            document.getElementById('consumerProductDetail').style.display = 'none';
            document.getElementById('cartView').style.display = 'none';
            document.getElementById('checkoutView').style.display = 'none';
            document.getElementById('detailView').classList.remove('active');
            document.getElementById('createFormView').classList.remove('active');
            document.getElementById('draftsView').classList.remove('active');

            // Show producer view
            document.querySelector('.hero').style.display = 'block';
            document.querySelector('.main-content').style.display = 'block';

            // Update navigation
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            document.getElementById('myListingsTab').classList.add('active');

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // Product data for marketplace
        const marketplaceProducts = {
            'fraud-alerts': {
                name: 'Fraud Detection Alerts',
                icon: 'ph-shield-warning',
                type: 'JSON',
                rating: 4.8,
                reviewCount: 24,
                activeUsers: 132,
                category: 'Fraud Detection',
                owner: 'Risk Analytics Team',
                description: 'Real-time fraud detection events with comprehensive risk scores, flagged transactions, and investigation status tracking. This dataset provides critical insights for risk management teams.',
                domain: 'Risk Management',
                subdomain: 'Fraud Detection'
            },
            'customer-360': {
                name: 'Customer 360 View',
                icon: 'ph-user-circle',
                type: 'Parquet',
                rating: 4.9,
                reviewCount: 31,
                activeUsers: 248,
                category: 'Customer Analytics',
                owner: 'Customer Insights',
                description: 'Comprehensive customer profiles aggregating account activity, demographics, and behavioral patterns across all touchpoints.',
                domain: 'Customer Experience',
                subdomain: 'Customer Analytics'
            },
            'transaction-data': {
                name: 'Transaction History',
                icon: 'ph-currency-dollar',
                type: 'CSV',
                rating: 4.6,
                reviewCount: 18,
                activeUsers: 89,
                category: 'Financial Operations',
                owner: 'Payments Team',
                description: 'Complete transaction records including credits, debits, and pending authorizations across all accounts.',
                domain: 'Finance',
                subdomain: 'Financial Operations'
            },
            'risk-scores': {
                name: 'Credit Risk Scores',
                icon: 'ph-chart-line',
                type: 'JSON',
                rating: 4.7,
                reviewCount: 22,
                activeUsers: 156,
                category: 'Risk Management',
                owner: 'Risk Management',
                description: 'Credit risk assessments and scoring models for loan underwriting and portfolio management.',
                domain: 'Risk Management',
                subdomain: 'Credit Risk'
            },
            'loan-portfolio': {
                name: 'Loan Portfolio Data',
                icon: 'ph-house',
                type: 'Parquet',
                rating: 4.8,
                reviewCount: 20,
                activeUsers: 94,
                category: 'Lending',
                owner: 'Lending Services',
                description: 'Mortgage, auto, and personal loan data including terms, balances, and payment history.',
                domain: 'Lending',
                subdomain: 'Loan Management'
            },
            'market-data': {
                name: 'Market Intelligence',
                icon: 'ph-trend-up',
                type: 'JSON',
                rating: 4.9,
                reviewCount: 28,
                activeUsers: 203,
                category: 'Investment',
                owner: 'Investment Research',
                description: 'Real-time market data, economic indicators, and investment research for wealth management.',
                domain: 'Investment',
                subdomain: 'Market Analysis'
            }
        };

        function showConsumerProductDetail(productId) {
            // Hide other views
            document.getElementById('marketplaceView').style.display = 'none';
            document.getElementById('cartView').style.display = 'none';
            document.getElementById('checkoutView').style.display = 'none';
            document.getElementById('detailView').style.display = 'none';
            document.getElementById('detailView').classList.remove('active');
            document.getElementById('createFormView').classList.remove('active');
            document.getElementById('draftsView').classList.remove('active');
            document.querySelector('.hero').style.display = 'none';
            document.querySelector('.main-content').style.display = 'none';

            // Get product data
            const product = marketplaceProducts[productId] || marketplaceProducts['fraud-alerts'];

            // Update breadcrumb
            const breadcrumbCurrent = document.querySelector('#consumerProductDetail .breadcrumb-current');
            if (breadcrumbCurrent) {
                breadcrumbCurrent.textContent = product.name;
            }

            // Update header
            const detailView = document.getElementById('consumerProductDetail');
            const iconEl = detailView.querySelector('.detail-icon i');
            const titleEl = detailView.querySelector('.detail-title-section h1');
            const ratingEl = detailView.querySelector('.detail-rating-value');
            const reviewCountEl = detailView.querySelector('.detail-rating-count');
            const typeEl = detailView.querySelector('.info-value');
            const descriptionEl = detailView.querySelector('.detail-description');

            if (iconEl) iconEl.className = `ph ${product.icon}`;
            if (titleEl) titleEl.textContent = product.name;
            if (ratingEl) ratingEl.textContent = product.rating;
            if (reviewCountEl) reviewCountEl.textContent = `(${product.reviewCount} reviews)`;
            if (typeEl) typeEl.textContent = product.type;
            if (descriptionEl) descriptionEl.textContent = product.description;

            // Update product info section
            const domainInfo = detailView.querySelector('.info-grid .info-item:nth-child(3) .info-value');
            const subdomainInfo = detailView.querySelector('.info-grid .info-item:nth-child(4) .info-value');
            if (domainInfo) domainInfo.textContent = product.domain;
            if (subdomainInfo) subdomainInfo.textContent = product.subdomain;

            // Update Add to Cart button
            const addToCartBtn = detailView.querySelector('.add-to-cart-btn');
            if (addToCartBtn) {
                addToCartBtn.onclick = () => addToCart(productId);
            }

            // Update favorite button
            const favoriteBtn = detailView.querySelector('.consumer-actions .favorite-btn');
            if (favoriteBtn) {
                favoriteBtn.onclick = (e) => toggleFavorite(productId, e);
            }

            // Show consumer detail view
            document.getElementById('consumerProductDetail').style.display = 'block';

            // Scroll to top
            window.scrollTo(0, 0);
        }

        function backToMarketplace() {
            document.getElementById('consumerProductDetail').style.display = 'none';
            document.getElementById('marketplaceView').style.display = 'block';
            window.scrollTo(0, 0);
        }

        function toggleFavorite(productId, event) {
            event.stopPropagation();
            const btn = event.currentTarget;

            let favorites = JSON.parse(localStorage.getItem('marketplaceFavorites') || '[]');

            if (favorites.includes(productId)) {
                favorites = favorites.filter(id => id !== productId);
                btn.classList.remove('active');
            } else {
                favorites.push(productId);
                btn.classList.add('active');
            }

            localStorage.setItem('marketplaceFavorites', JSON.stringify(favorites));
        }

        function toggleAvailableInDropdown(event) {
            if (event) {
                event.stopPropagation();
            }
            const menu = event ? event.currentTarget.nextElementSibling : document.querySelector('.available-in-menu');
            menu.classList.toggle('active');
        }

        function selectAvailableIn(tool, event) {
            if (event) {
                event.stopPropagation();
            }
            const menu = event ? event.currentTarget.closest('.available-in-menu') : document.querySelector('.available-in-menu');
            const btn = event ? menu.previousElementSibling : document.querySelector('.available-in-btn');
            btn.childNodes[0].textContent = 'Available in ' + tool;

            // Update selected state
            const options = menu.querySelectorAll('.available-in-option');
            options.forEach(opt => {
                opt.classList.remove('selected');
            });
            event.target.closest('.available-in-option').classList.add('selected');

            // Close dropdown
            toggleAvailableInDropdown();
        }

        function addToCart(productId, event) {
            if (event) {
                event.stopPropagation();
            }

            // Check if already in cart
            if (cart.some(item => item.id === productId)) {
                alert('This product is already in your cart');
                return;
            }

            // Get product data
            const productData = marketplaceProducts[productId] || marketplaceProducts['fraud-alerts'];

            // Add product to cart
            const product = {
                id: productId,
                name: productData.name,
                category: productData.category,
                owner: productData.owner,
                justification: ''
            };

            cart.push(product);
            localStorage.setItem('marketplaceCart', JSON.stringify(cart));
            updateCartCount();

            // Show confirmation
            alert('Product added to cart!');
        }

        function showCart() {
            // Hide other views
            document.getElementById('marketplaceView').style.display = 'none';
            document.getElementById('consumerProductDetail').style.display = 'none';
            document.getElementById('checkoutView').style.display = 'none';
            document.querySelector('.hero').style.display = 'none';
            document.querySelector('.main-content').style.display = 'none';
            document.getElementById('detailView').classList.remove('active');

            // Show cart view
            document.getElementById('cartView').style.display = 'block';

            // Render cart items
            renderCartItems();

            // Scroll to top
            window.scrollTo(0, 0);
        }

        function hideCart() {
            document.getElementById('cartView').style.display = 'none';

            // Return to marketplace
            if (document.getElementById('marketplaceTab').classList.contains('active')) {
                document.getElementById('marketplaceView').style.display = 'block';
            } else {
                document.querySelector('.hero').style.display = 'block';
                document.querySelector('.main-content').style.display = 'block';
            }

            window.scrollTo(0, 0);
        }

        function renderCartItems() {
            const cartItemsContainer = document.querySelector('.cart-items');
            const emptyCart = document.querySelector('.empty-cart');
            const cartSummary = document.querySelector('.cart-summary');
            const itemCountElement = document.querySelector('.summary-value');

            if (cart.length === 0) {
                cartItemsContainer.style.display = 'none';
                cartSummary.style.display = 'none';
                emptyCart.style.display = 'block';
            } else {
                cartItemsContainer.style.display = 'block';
                cartSummary.style.display = 'block';
                emptyCart.style.display = 'none';

                cartItemsContainer.innerHTML = cart.map((item, index) => `
                    <div class="cart-item-card">
                        <div class="cart-item-header">
                            <div class="cart-item-info">
                                <h3>${item.name}</h3>
                                <div class="cart-item-meta">
                                    <span><i class="ph ph-folder"></i> ${item.category}</span>
                                    <span><i class="ph ph-user"></i> ${item.owner}</span>
                                </div>
                            </div>
                            <button class="remove-item-btn" onclick="removeFromCart('${item.id}')">
                                <i class="ph ph-x"></i>
                            </button>
                        </div>
                        <div class="business-justification">
                            <label>Business Justification <span style="color: #DC2626;">*</span></label>
                            <textarea
                                placeholder="Explain why you need access to this data product..."
                                onchange="updateJustification('${item.id}', this.value)"
                            >${item.justification || ''}</textarea>
                        </div>
                    </div>
                `).join('');

                // Update summary
                if (itemCountElement) {
                    itemCountElement.textContent = cart.length;
                }
            }
        }

        function updateJustification(productId, justification) {
            const item = cart.find(i => i.id === productId);
            if (item) {
                item.justification = justification;
                localStorage.setItem('marketplaceCart', JSON.stringify(cart));
            }
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            localStorage.setItem('marketplaceCart', JSON.stringify(cart));
            updateCartCount();
            renderCartItems();
        }

        function showCheckout() {
            // Validate that all items have justifications
            const missingJustification = cart.some(item => !item.justification || item.justification.trim() === '');

            if (missingJustification) {
                alert('Please provide business justification for all items in your cart before proceeding to checkout.');
                return;
            }

            // Hide cart view
            document.getElementById('cartView').style.display = 'none';

            // Show checkout view
            document.getElementById('checkoutView').style.display = 'block';

            // Render order items
            renderOrderItems();

            // Scroll to top
            window.scrollTo(0, 0);
        }

        function renderOrderItems() {
            const orderItemsContainer = document.querySelector('.checkout-section .order-items');
            const itemCountElement = document.querySelector('#checkoutView .summary-value');

            if (orderItemsContainer) {
                orderItemsContainer.innerHTML = cart.map(item => `
                    <div class="order-item">
                        <div class="order-item-info">
                            <h4>${item.name}</h4>
                            <div class="order-item-meta">${item.category}  ${item.owner}</div>
                        </div>
                    </div>
                `).join('');
            }

            // Update summary
            if (itemCountElement) {
                itemCountElement.textContent = cart.length;
            }
        }

        function selectDeliveryOption(option) {
            // Update selected state
            document.querySelectorAll('.delivery-option').forEach(opt => {
                opt.classList.remove('selected');
                const radio = opt.querySelector('input[type="radio"]');
                if (radio) radio.checked = false;
            });

            event.currentTarget.classList.add('selected');
            const radio = event.currentTarget.querySelector('input[type="radio"]');
            if (radio) radio.checked = true;
        }

        function submitOrder() {
            // Get selected delivery option
            const selectedOption = document.querySelector('.delivery-option.selected');

            if (!selectedOption) {
                alert('Please select a delivery destination before submitting your order.');
                return;
            }

            // In a real app, this would submit to a backend
            alert('Order submitted successfully! You will receive confirmation shortly.');

            // Clear cart
            cart = [];
            localStorage.setItem('marketplaceCart', JSON.stringify(cart));
            updateCartCount();

            // Return to marketplace
            document.getElementById('checkoutView').style.display = 'none';
            showMarketplace();
        }

        // Initialize cart count on page load
        updateCartCount();

        // Close available-in dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const dropdown = document.querySelector('.available-in-dropdown');
            const menu = document.querySelector('.available-in-menu');

            if (dropdown && menu && !dropdown.contains(event.target)) {
                menu.classList.remove('active');
            }

            // Close marketplace filter panels when clicking outside
            if (!event.target.closest('#marketplaceView .filter-container')) {
                document.querySelectorAll('#marketplaceView .filter-panel').forEach(panel => {
                    panel.classList.remove('active');
                });
                document.querySelectorAll('#marketplaceView .filter-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
            }
        });

        // ========== MARKETPLACE FILTER FUNCTIONS ==========

        let marketplaceActiveFilters = {
            'marketplace-department': [],
            'marketplace-category': []
        };

        // Toggle marketplace filter panels
        function toggleMarketplaceFilterPanel(evt, panelId) {
            evt.stopPropagation();

            const panel = document.getElementById(panelId);
            const btn = evt.currentTarget;
            const allPanels = document.querySelectorAll('#marketplaceView .filter-panel');
            const allBtns = document.querySelectorAll('#marketplaceView .filter-btn');

            // Close other panels
            allPanels.forEach(p => {
                if (p.id !== panelId) {
                    p.classList.remove('active');
                }
            });

            allBtns.forEach(b => {
                if (b !== btn) {
                    b.classList.remove('active');
                }
            });

            // Toggle current panel
            panel.classList.toggle('active');
            btn.classList.toggle('active');
        }

        // Update marketplace active filters display
        function updateMarketplaceActiveFilters() {
            const container = document.getElementById('marketplaceActiveFiltersContainer');
            const filtersDiv = document.getElementById('marketplaceActiveFilters');

            const allFilters = [
                ...marketplaceActiveFilters['marketplace-department'].map(f => ({...f, displayLabel: 'Department'})),
                ...marketplaceActiveFilters['marketplace-category'].map(f => ({...f, displayLabel: 'Category'}))
            ];

            if (allFilters.length === 0) {
                container.style.display = 'none';
            } else {
                container.style.display = 'block';

                const filterTags = allFilters.map(filter => {
                    return `
                        <div class="filter-tag">
                            <span>${filter.displayLabel}: ${filter.label}</span>
                            <span class="filter-tag-remove" onclick="removeMarketplaceFilter('${filter.type}', '${filter.value}')">
                                <i class="ph ph-x"></i>
                            </span>
                        </div>
                    `;
                }).join('');

                const clearAllBtn = `
                    <button class="clear-all-inline-btn" onclick="clearAllMarketplaceFilters()">
                        <i class="ph ph-x-circle"></i>
                        <span>Clear All</span>
                    </button>
                `;

                filtersDiv.innerHTML = filterTags + clearAllBtn;
            }
        }

        // Remove single marketplace filter
        function removeMarketplaceFilter(filterType, filterValue) {
            marketplaceActiveFilters[filterType] = marketplaceActiveFilters[filterType].filter(f => f.value !== filterValue);

            // Uncheck the checkbox
            const checkbox = document.querySelector(`input[data-filter="${filterType}"][value="${filterValue}"]`);
            if (checkbox) {
                checkbox.checked = false;
            }

            updateMarketplaceActiveFilters();
        }

        // Clear all marketplace filters
        function clearAllMarketplaceFilters() {
            // Clear all filter arrays
            Object.keys(marketplaceActiveFilters).forEach(key => {
                marketplaceActiveFilters[key] = [];
            });

            // Uncheck all checkboxes
            document.querySelectorAll('#marketplaceView input[type="checkbox"]').forEach(checkbox => {
                checkbox.checked = false;
            });

            updateMarketplaceActiveFilters();
        }

        // Marketplace checkbox change handler
        function handleMarketplaceFilterChange(checkbox) {
            const filterType = checkbox.getAttribute('data-filter');
            const filterValue = checkbox.value;
            const filterLabel = checkbox.nextElementSibling.textContent;

            if (checkbox.checked) {
                // Add filter
                if (!marketplaceActiveFilters[filterType].some(f => f.value === filterValue)) {
                    marketplaceActiveFilters[filterType].push({
                        type: filterType,
                        value: filterValue,
                        label: filterLabel
                    });
                }
            } else {
                // Remove filter
                marketplaceActiveFilters[filterType] = marketplaceActiveFilters[filterType].filter(f => f.value !== filterValue);
            }

            updateMarketplaceActiveFilters();
        }

        // Marketplace department search
        function searchMarketplaceDepartments() {
            const searchInput = document.getElementById('marketplaceDepartmentSearch');
            const filterOptions = document.querySelectorAll('#marketplaceDepartmentOptions .filter-option');

            const searchTerm = searchInput.value.toLowerCase();

            filterOptions.forEach(option => {
                const text = option.textContent.toLowerCase();
                if (text.includes(searchTerm)) {
                    option.style.display = 'flex';
                } else {
                    option.style.display = 'none';
                }
            });
        }

        // Toggle recommendations section
        function toggleRecommendations(event) {
            event.preventDefault();

            const grid = document.getElementById('recommendationsGrid');
            const link = document.getElementById('seeMoreRecommendations');

            if (grid.classList.contains('expanded')) {
                grid.classList.remove('expanded');
                link.textContent = 'See more';
            } else {
                grid.classList.add('expanded');
                link.textContent = 'Show less';
            }
        }

        // Share product function
        function shareProduct(event) {
            if (event) {
                event.stopPropagation();
            }
            // In a real app, this would open a share dialog
            alert('Share functionality: Copy link to clipboard or share via email/Slack');
        }
    </script>
</body>
</html>